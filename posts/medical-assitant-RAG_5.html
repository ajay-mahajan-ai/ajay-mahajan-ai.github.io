<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-08-05">

<title>Medical Assitant – Ajay Mahajan</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-c1fac2584b48ed01fb6e278e36375074.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Ajay Mahajan</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../posts.qmd"> 
<span class="menu-text">Posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../projects.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/ajay-mahajan-ai"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Medical Assitant</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">August 5, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#problem-statement" id="toc-problem-statement" class="nav-link active" data-scroll-target="#problem-statement">Problem Statement</a>
  <ul class="collapse">
  <li><a href="#business-context" id="toc-business-context" class="nav-link" data-scroll-target="#business-context">Business Context</a></li>
  <li><a href="#objective" id="toc-objective" class="nav-link" data-scroll-target="#objective">Objective</a></li>
  <li><a href="#data-description" id="toc-data-description" class="nav-link" data-scroll-target="#data-description">Data Description</a></li>
  </ul></li>
  <li><a href="#installing-and-importing-necessary-libraries-and-dependencies" id="toc-installing-and-importing-necessary-libraries-and-dependencies" class="nav-link" data-scroll-target="#installing-and-importing-necessary-libraries-and-dependencies">Installing and Importing Necessary Libraries and Dependencies</a></li>
  <li><a href="#question-answering-using-llm" id="toc-question-answering-using-llm" class="nav-link" data-scroll-target="#question-answering-using-llm">Question Answering using LLM</a>
  <ul class="collapse">
  <li><a href="#query-1-what-is-the-protocol-for-managing-sepsis-in-a-critical-care-unit" id="toc-query-1-what-is-the-protocol-for-managing-sepsis-in-a-critical-care-unit" class="nav-link" data-scroll-target="#query-1-what-is-the-protocol-for-managing-sepsis-in-a-critical-care-unit">Query 1: What is the protocol for managing sepsis in a critical care unit?</a></li>
  <li><a href="#query-2-what-are-the-common-symptoms-for-appendicitis-and-can-it-be-cured-via-medicine-if-not-what-surgical-procedure-should-be-followed-to-treat-it" id="toc-query-2-what-are-the-common-symptoms-for-appendicitis-and-can-it-be-cured-via-medicine-if-not-what-surgical-procedure-should-be-followed-to-treat-it" class="nav-link" data-scroll-target="#query-2-what-are-the-common-symptoms-for-appendicitis-and-can-it-be-cured-via-medicine-if-not-what-surgical-procedure-should-be-followed-to-treat-it">Query 2: What are the common symptoms for appendicitis, and can it be cured via medicine? If not, what surgical procedure should be followed to treat it?</a></li>
  <li><a href="#query-3-what-are-the-effective-treatments-or-solutions-for-addressing-sudden-patchy-hair-loss-commonly-seen-as-localized-bald-spots-on-the-scalp-and-what-could-be-the-possible-causes-behind-it" id="toc-query-3-what-are-the-effective-treatments-or-solutions-for-addressing-sudden-patchy-hair-loss-commonly-seen-as-localized-bald-spots-on-the-scalp-and-what-could-be-the-possible-causes-behind-it" class="nav-link" data-scroll-target="#query-3-what-are-the-effective-treatments-or-solutions-for-addressing-sudden-patchy-hair-loss-commonly-seen-as-localized-bald-spots-on-the-scalp-and-what-could-be-the-possible-causes-behind-it">Query 3: What are the effective treatments or solutions for addressing sudden patchy hair loss, commonly seen as localized bald spots on the scalp, and what could be the possible causes behind it?</a></li>
  <li><a href="#query-4-what-treatments-are-recommended-for-a-person-who-has-sustained-a-physical-injury-to-brain-tissue-resulting-in-temporary-or-permanent-impairment-of-brain-function" id="toc-query-4-what-treatments-are-recommended-for-a-person-who-has-sustained-a-physical-injury-to-brain-tissue-resulting-in-temporary-or-permanent-impairment-of-brain-function" class="nav-link" data-scroll-target="#query-4-what-treatments-are-recommended-for-a-person-who-has-sustained-a-physical-injury-to-brain-tissue-resulting-in-temporary-or-permanent-impairment-of-brain-function">Query 4: What treatments are recommended for a person who has sustained a physical injury to brain tissue, resulting in temporary or permanent impairment of brain function?</a></li>
  <li><a href="#query-5-what-are-the-necessary-precautions-and-treatment-steps-for-a-person-who-has-fractured-their-leg-during-a-hiking-trip-and-what-should-be-considered-for-their-care-and-recovery" id="toc-query-5-what-are-the-necessary-precautions-and-treatment-steps-for-a-person-who-has-fractured-their-leg-during-a-hiking-trip-and-what-should-be-considered-for-their-care-and-recovery" class="nav-link" data-scroll-target="#query-5-what-are-the-necessary-precautions-and-treatment-steps-for-a-person-who-has-fractured-their-leg-during-a-hiking-trip-and-what-should-be-considered-for-their-care-and-recovery">Query 5: What are the necessary precautions and treatment steps for a person who has fractured their leg during a hiking trip, and what should be considered for their care and recovery?</a></li>
  </ul></li>
  <li><a href="#question-answering-using-llm-with-prompt-engineering" id="toc-question-answering-using-llm-with-prompt-engineering" class="nav-link" data-scroll-target="#question-answering-using-llm-with-prompt-engineering">Question Answering using LLM with Prompt Engineering</a>
  <ul class="collapse">
  <li><a href="#query-1-what-is-the-protocol-for-managing-sepsis-in-a-critical-care-unit-1" id="toc-query-1-what-is-the-protocol-for-managing-sepsis-in-a-critical-care-unit-1" class="nav-link" data-scroll-target="#query-1-what-is-the-protocol-for-managing-sepsis-in-a-critical-care-unit-1">Query 1: What is the protocol for managing sepsis in a critical care unit?</a></li>
  <li><a href="#query-2-what-are-the-common-symptoms-for-appendicitis-and-can-it-be-cured-via-medicine-if-not-what-surgical-procedure-should-be-followed-to-treat-it-1" id="toc-query-2-what-are-the-common-symptoms-for-appendicitis-and-can-it-be-cured-via-medicine-if-not-what-surgical-procedure-should-be-followed-to-treat-it-1" class="nav-link" data-scroll-target="#query-2-what-are-the-common-symptoms-for-appendicitis-and-can-it-be-cured-via-medicine-if-not-what-surgical-procedure-should-be-followed-to-treat-it-1">Query 2: What are the common symptoms for appendicitis, and can it be cured via medicine? If not, what surgical procedure should be followed to treat it?</a></li>
  <li><a href="#query-3-what-are-the-effective-treatments-or-solutions-for-addressing-sudden-patchy-hair-loss-commonly-seen-as-localized-bald-spots-on-the-scalp-and-what-could-be-the-possible-causes-behind-it-1" id="toc-query-3-what-are-the-effective-treatments-or-solutions-for-addressing-sudden-patchy-hair-loss-commonly-seen-as-localized-bald-spots-on-the-scalp-and-what-could-be-the-possible-causes-behind-it-1" class="nav-link" data-scroll-target="#query-3-what-are-the-effective-treatments-or-solutions-for-addressing-sudden-patchy-hair-loss-commonly-seen-as-localized-bald-spots-on-the-scalp-and-what-could-be-the-possible-causes-behind-it-1">Query 3: What are the effective treatments or solutions for addressing sudden patchy hair loss, commonly seen as localized bald spots on the scalp, and what could be the possible causes behind it?</a></li>
  <li><a href="#query-4-what-treatments-are-recommended-for-a-person-who-has-sustained-a-physical-injury-to-brain-tissue-resulting-in-temporary-or-permanent-impairment-of-brain-function-1" id="toc-query-4-what-treatments-are-recommended-for-a-person-who-has-sustained-a-physical-injury-to-brain-tissue-resulting-in-temporary-or-permanent-impairment-of-brain-function-1" class="nav-link" data-scroll-target="#query-4-what-treatments-are-recommended-for-a-person-who-has-sustained-a-physical-injury-to-brain-tissue-resulting-in-temporary-or-permanent-impairment-of-brain-function-1">Query 4: What treatments are recommended for a person who has sustained a physical injury to brain tissue, resulting in temporary or permanent impairment of brain function?</a></li>
  <li><a href="#query-5-what-are-the-necessary-precautions-and-treatment-steps-for-a-person-who-has-fractured-their-leg-during-a-hiking-trip-and-what-should-be-considered-for-their-care-and-recovery-1" id="toc-query-5-what-are-the-necessary-precautions-and-treatment-steps-for-a-person-who-has-fractured-their-leg-during-a-hiking-trip-and-what-should-be-considered-for-their-care-and-recovery-1" class="nav-link" data-scroll-target="#query-5-what-are-the-necessary-precautions-and-treatment-steps-for-a-person-who-has-fractured-their-leg-during-a-hiking-trip-and-what-should-be-considered-for-their-care-and-recovery-1">Query 5: What are the necessary precautions and treatment steps for a person who has fractured their leg during a hiking trip, and what should be considered for their care and recovery?</a></li>
  </ul></li>
  <li><a href="#data-preparation-for-rag" id="toc-data-preparation-for-rag" class="nav-link" data-scroll-target="#data-preparation-for-rag">Data Preparation for RAG</a>
  <ul class="collapse">
  <li><a href="#loading-the-data" id="toc-loading-the-data" class="nav-link" data-scroll-target="#loading-the-data">Loading the Data</a></li>
  <li><a href="#data-overview" id="toc-data-overview" class="nav-link" data-scroll-target="#data-overview">Data Overview</a></li>
  <li><a href="#data-chunking" id="toc-data-chunking" class="nav-link" data-scroll-target="#data-chunking">Data Chunking</a></li>
  <li><a href="#embedding" id="toc-embedding" class="nav-link" data-scroll-target="#embedding">Embedding</a></li>
  <li><a href="#vector-database" id="toc-vector-database" class="nav-link" data-scroll-target="#vector-database">Vector Database</a></li>
  <li><a href="#retriever" id="toc-retriever" class="nav-link" data-scroll-target="#retriever">Retriever</a></li>
  <li><a href="#system-and-user-prompt-template" id="toc-system-and-user-prompt-template" class="nav-link" data-scroll-target="#system-and-user-prompt-template">System and User Prompt Template</a></li>
  <li><a href="#response-function" id="toc-response-function" class="nav-link" data-scroll-target="#response-function">Response Function</a></li>
  </ul></li>
  <li><a href="#question-answering-using-rag" id="toc-question-answering-using-rag" class="nav-link" data-scroll-target="#question-answering-using-rag">Question Answering using RAG</a>
  <ul class="collapse">
  <li><a href="#query-1-what-is-the-protocol-for-managing-sepsis-in-a-critical-care-unit-2" id="toc-query-1-what-is-the-protocol-for-managing-sepsis-in-a-critical-care-unit-2" class="nav-link" data-scroll-target="#query-1-what-is-the-protocol-for-managing-sepsis-in-a-critical-care-unit-2">Query 1: What is the protocol for managing sepsis in a critical care unit?</a></li>
  <li><a href="#query-2-what-are-the-common-symptoms-for-appendicitis-and-can-it-be-cured-via-medicine-if-not-what-surgical-procedure-should-be-followed-to-treat-it-2" id="toc-query-2-what-are-the-common-symptoms-for-appendicitis-and-can-it-be-cured-via-medicine-if-not-what-surgical-procedure-should-be-followed-to-treat-it-2" class="nav-link" data-scroll-target="#query-2-what-are-the-common-symptoms-for-appendicitis-and-can-it-be-cured-via-medicine-if-not-what-surgical-procedure-should-be-followed-to-treat-it-2">Query 2: What are the common symptoms for appendicitis, and can it be cured via medicine? If not, what surgical procedure should be followed to treat it?</a></li>
  <li><a href="#query-3-what-are-the-effective-treatments-or-solutions-for-addressing-sudden-patchy-hair-loss-commonly-seen-as-localized-bald-spots-on-the-scalp-and-what-could-be-the-possible-causes-behind-it-2" id="toc-query-3-what-are-the-effective-treatments-or-solutions-for-addressing-sudden-patchy-hair-loss-commonly-seen-as-localized-bald-spots-on-the-scalp-and-what-could-be-the-possible-causes-behind-it-2" class="nav-link" data-scroll-target="#query-3-what-are-the-effective-treatments-or-solutions-for-addressing-sudden-patchy-hair-loss-commonly-seen-as-localized-bald-spots-on-the-scalp-and-what-could-be-the-possible-causes-behind-it-2">Query 3: What are the effective treatments or solutions for addressing sudden patchy hair loss, commonly seen as localized bald spots on the scalp, and what could be the possible causes behind it?</a></li>
  <li><a href="#query-4-what-treatments-are-recommended-for-a-person-who-has-sustained-a-physical-injury-to-brain-tissue-resulting-in-temporary-or-permanent-impairment-of-brain-function-2" id="toc-query-4-what-treatments-are-recommended-for-a-person-who-has-sustained-a-physical-injury-to-brain-tissue-resulting-in-temporary-or-permanent-impairment-of-brain-function-2" class="nav-link" data-scroll-target="#query-4-what-treatments-are-recommended-for-a-person-who-has-sustained-a-physical-injury-to-brain-tissue-resulting-in-temporary-or-permanent-impairment-of-brain-function-2">Query 4: What treatments are recommended for a person who has sustained a physical injury to brain tissue, resulting in temporary or permanent impairment of brain function?</a></li>
  <li><a href="#query-5-what-are-the-necessary-precautions-and-treatment-steps-for-a-person-who-has-fractured-their-leg-during-a-hiking-trip-and-what-should-be-considered-for-their-care-and-recovery-2" id="toc-query-5-what-are-the-necessary-precautions-and-treatment-steps-for-a-person-who-has-fractured-their-leg-during-a-hiking-trip-and-what-should-be-considered-for-their-care-and-recovery-2" class="nav-link" data-scroll-target="#query-5-what-are-the-necessary-precautions-and-treatment-steps-for-a-person-who-has-fractured-their-leg-during-a-hiking-trip-and-what-should-be-considered-for-their-care-and-recovery-2">Query 5: What are the necessary precautions and treatment steps for a person who has fractured their leg during a hiking trip, and what should be considered for their care and recovery?</a></li>
  <li><a href="#fine-tuning" id="toc-fine-tuning" class="nav-link" data-scroll-target="#fine-tuning">Fine-tuning</a></li>
  </ul></li>
  <li><a href="#output-evaluation" id="toc-output-evaluation" class="nav-link" data-scroll-target="#output-evaluation">Output Evaluation</a></li>
  <li><a href="#actionable-insights-and-business-recommendations" id="toc-actionable-insights-and-business-recommendations" class="nav-link" data-scroll-target="#actionable-insights-and-business-recommendations">Actionable Insights and Business Recommendations</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="problem-statement">Problem Statement</h2>
<section id="business-context" class="level3">
<h3 class="anchored" data-anchor-id="business-context">Business Context</h3>
<p>The healthcare industry is rapidly evolving, with professionals facing increasing challenges in managing vast volumes of medical data while delivering accurate and timely diagnoses. The need for quick access to comprehensive, reliable, and up-to-date medical knowledge is critical for improving patient outcomes and ensuring informed decision-making in a fast-paced environment.</p>
<p>Healthcare professionals often encounter information overload, struggling to sift through extensive research and data to create accurate diagnoses and treatment plans. This challenge is amplified by the need for efficiency, particularly in emergencies, where time-sensitive decisions are vital. Furthermore, access to trusted, current medical information from renowned manuals and research papers is essential for maintaining high standards of care.</p>
<p>To address these challenges, healthcare centers can focus on integrating systems that streamline access to medical knowledge, provide tools to support quick decision-making, and enhance efficiency. Leveraging centralized knowledge platforms and ensuring healthcare providers have continuous access to reliable resources can significantly improve patient care and operational effectiveness.</p>
<p><strong>Common Questions to Answer</strong></p>
<p><strong>1. Diagnostic Assistance</strong>: “What are the common symptoms and treatments for pulmonary embolism?”</p>
<p><strong>2. Drug Information</strong>: “Can you provide the trade names of medications used for treating hypertension?”</p>
<p><strong>3. Treatment Plans</strong>: “What are the first-line options and alternatives for managing rheumatoid arthritis?”</p>
<p><strong>4. Specialty Knowledge</strong>: “What are the diagnostic steps for suspected endocrine disorders?”</p>
<p><strong>5. Critical Care Protocols</strong>: “What is the protocol for managing sepsis in a critical care unit?”</p>
</section>
<section id="objective" class="level3">
<h3 class="anchored" data-anchor-id="objective">Objective</h3>
<p>As an AI specialist, your task is to develop a RAG-based AI solution using renowned medical manuals to address healthcare challenges. The objective is to <strong>understand</strong> issues like information overload, <strong>apply</strong> AI techniques to streamline decision-making, <strong>analyze</strong> its impact on diagnostics and patient outcomes, <strong>evaluate</strong> its potential to standardize care practices, and <strong>create</strong> a functional prototype demonstrating its feasibility and effectiveness.</p>
</section>
<section id="data-description" class="level3">
<h3 class="anchored" data-anchor-id="data-description">Data Description</h3>
<p>The <strong>Merck Manuals</strong> are medical references published by the American pharmaceutical company Merck &amp; Co., that cover a wide range of medical topics, including disorders, tests, diagnoses, and drugs. The manuals have been published since 1899, when Merck &amp; Co.&nbsp;was still a subsidiary of the German company Merck.</p>
<p>The manual is provided as a PDF with over 4,000 pages divided into 23 sections.</p>
</section>
</section>
<section id="installing-and-importing-necessary-libraries-and-dependencies" class="level2">
<h2 class="anchored" data-anchor-id="installing-and-importing-necessary-libraries-and-dependencies">Installing and Importing Necessary Libraries and Dependencies</h2>
<div id="cell-10" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}}" data-outputid="90a636cf-ea88-494a-98a6-da2ebf1ff9e9" data-execution_count="311">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>CMAKE_ARGS<span class="op">=</span><span class="st">"-DLLAMA_CUBLAS=on"</span> pip install <span class="op">--</span>no<span class="op">-</span>cache<span class="op">-</span><span class="bu">dir</span> llama<span class="op">-</span>cpp<span class="op">-</span>python<span class="op">==</span><span class="fl">0.2.77</span> <span class="op">--</span>extra<span class="op">-</span>index<span class="op">-</span>url https:<span class="op">//</span>abetlen.github.io<span class="op">/</span>llama<span class="op">-</span>cpp<span class="op">-</span>python<span class="op">/</span>whl<span class="op">/</span>cu124</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Looking in indexes: https://pypi.org/simple, https://abetlen.github.io/llama-cpp-python/whl/cu124
Requirement already satisfied: llama-cpp-python==0.2.77 in /usr/local/lib/python3.11/dist-packages (0.2.77)
Requirement already satisfied: typing-extensions&gt;=4.5.0 in /usr/local/lib/python3.11/dist-packages (from llama-cpp-python==0.2.77) (4.13.2)
Requirement already satisfied: numpy&gt;=1.20.0 in /usr/local/lib/python3.11/dist-packages (from llama-cpp-python==0.2.77) (2.0.2)
Requirement already satisfied: diskcache&gt;=5.6.1 in /usr/local/lib/python3.11/dist-packages (from llama-cpp-python==0.2.77) (5.6.3)
Requirement already satisfied: jinja2&gt;=2.11.3 in /usr/local/lib/python3.11/dist-packages (from llama-cpp-python==0.2.77) (3.1.6)
Requirement already satisfied: MarkupSafe&gt;=2.0 in /usr/local/lib/python3.11/dist-packages (from jinja2&gt;=2.11.3-&gt;llama-cpp-python==0.2.77) (3.0.2)</code></pre>
</div>
</div>
<div id="cell-11" class="cell" data-execution_count="312">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install huggingface_hub pandas tiktoken pymupdf langchain langchain<span class="op">-</span>community chromadb sentence<span class="op">-</span>transformers <span class="st">"numpy&lt;3"</span> <span class="op">-</span>q</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-12" class="cell" data-execution_count="313">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Libraries for processing dataframes,text</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> json,os</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> tiktoken</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Libraries for Loading Data, Chunking, Embedding, and Vector Databases</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain.text_splitter <span class="im">import</span> RecursiveCharacterTextSplitter</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain_community.document_loaders <span class="im">import</span> PyMuPDFLoader</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain_community.embeddings.sentence_transformer <span class="im">import</span> SentenceTransformerEmbeddings</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> langchain_community.vectorstores <span class="im">import</span> Chroma</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co">#Libraries for downloading and loading the llm</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> huggingface_hub <span class="im">import</span> hf_hub_download</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> llama_cpp <span class="im">import</span> Llama</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="question-answering-using-llm" class="level2">
<h2 class="anchored" data-anchor-id="question-answering-using-llm">Question Answering using LLM</h2>
<section id="downloading-and-loading-the-model" class="level4">
<h4 class="anchored" data-anchor-id="downloading-and-loading-the-model">Downloading and Loading the model</h4>
<div id="cell-15" class="cell" data-execution_count="314">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Model configuration</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>model_name_or_path <span class="op">=</span> <span class="st">"TheBloke/Llama-2-13B-chat-GGUF"</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>model_basename <span class="op">=</span> <span class="st">"llama-2-13b-chat.Q5_K_M.gguf"</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>model_path <span class="op">=</span> hf_hub_download(</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    repo_id<span class="op">=</span>model_name_or_path,</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    filename<span class="op">=</span>model_basename</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-16" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}}" data-outputid="5ef5cfdf-789f-46d1-a8b6-f99403be53b4" data-execution_count="315">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#uncomment the below snippet of code if the runtime is connected to GPU.</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>llm <span class="op">=</span> Llama(</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    model_path<span class="op">=</span>model_path,</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    n_ctx<span class="op">=</span><span class="dv">4096</span>,</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    n_gpu_layers<span class="op">=</span><span class="dv">38</span>,</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    n_batch<span class="op">=</span><span class="dv">512</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>llama_model_loader: loaded meta data with 19 key-value pairs and 363 tensors from /root/.cache/huggingface/hub/models--TheBloke--Llama-2-13B-chat-GGUF/snapshots/4458acc949de0a9914c3eab623904d4fe999050a/llama-2-13b-chat.Q5_K_M.gguf (version GGUF V2)
llama_model_loader: Dumping metadata keys/values. Note: KV overrides do not apply in this output.
llama_model_loader: - kv   0:                       general.architecture str              = llama
llama_model_loader: - kv   1:                               general.name str              = LLaMA v2
llama_model_loader: - kv   2:                       llama.context_length u32              = 4096
llama_model_loader: - kv   3:                     llama.embedding_length u32              = 5120
llama_model_loader: - kv   4:                          llama.block_count u32              = 40
llama_model_loader: - kv   5:                  llama.feed_forward_length u32              = 13824
llama_model_loader: - kv   6:                 llama.rope.dimension_count u32              = 128
llama_model_loader: - kv   7:                 llama.attention.head_count u32              = 40
llama_model_loader: - kv   8:              llama.attention.head_count_kv u32              = 40
llama_model_loader: - kv   9:     llama.attention.layer_norm_rms_epsilon f32              = 0.000010
llama_model_loader: - kv  10:                          general.file_type u32              = 17
llama_model_loader: - kv  11:                       tokenizer.ggml.model str              = llama
llama_model_loader: - kv  12:                      tokenizer.ggml.tokens arr[str,32000]   = ["&lt;unk&gt;", "&lt;s&gt;", "&lt;/s&gt;", "&lt;0x00&gt;", "&lt;...
llama_model_loader: - kv  13:                      tokenizer.ggml.scores arr[f32,32000]   = [0.000000, 0.000000, 0.000000, 0.0000...
llama_model_loader: - kv  14:                  tokenizer.ggml.token_type arr[i32,32000]   = [2, 3, 3, 6, 6, 6, 6, 6, 6, 6, 6, 6, ...
llama_model_loader: - kv  15:                tokenizer.ggml.bos_token_id u32              = 1
llama_model_loader: - kv  16:                tokenizer.ggml.eos_token_id u32              = 2
llama_model_loader: - kv  17:            tokenizer.ggml.unknown_token_id u32              = 0
llama_model_loader: - kv  18:               general.quantization_version u32              = 2
llama_model_loader: - type  f32:   81 tensors
llama_model_loader: - type q5_K:  241 tensors
llama_model_loader: - type q6_K:   41 tensors
llm_load_vocab: special tokens cache size = 259
llm_load_vocab: token to piece cache size = 0.1684 MB
llm_load_print_meta: format           = GGUF V2
llm_load_print_meta: arch             = llama
llm_load_print_meta: vocab type       = SPM
llm_load_print_meta: n_vocab          = 32000
llm_load_print_meta: n_merges         = 0
llm_load_print_meta: n_ctx_train      = 4096
llm_load_print_meta: n_embd           = 5120
llm_load_print_meta: n_head           = 40
llm_load_print_meta: n_head_kv        = 40
llm_load_print_meta: n_layer          = 40
llm_load_print_meta: n_rot            = 128
llm_load_print_meta: n_embd_head_k    = 128
llm_load_print_meta: n_embd_head_v    = 128
llm_load_print_meta: n_gqa            = 1
llm_load_print_meta: n_embd_k_gqa     = 5120
llm_load_print_meta: n_embd_v_gqa     = 5120
llm_load_print_meta: f_norm_eps       = 0.0e+00
llm_load_print_meta: f_norm_rms_eps   = 1.0e-05
llm_load_print_meta: f_clamp_kqv      = 0.0e+00
llm_load_print_meta: f_max_alibi_bias = 0.0e+00
llm_load_print_meta: f_logit_scale    = 0.0e+00
llm_load_print_meta: n_ff             = 13824
llm_load_print_meta: n_expert         = 0
llm_load_print_meta: n_expert_used    = 0
llm_load_print_meta: causal attn      = 1
llm_load_print_meta: pooling type     = 0
llm_load_print_meta: rope type        = 0
llm_load_print_meta: rope scaling     = linear
llm_load_print_meta: freq_base_train  = 10000.0
llm_load_print_meta: freq_scale_train = 1
llm_load_print_meta: n_yarn_orig_ctx  = 4096
llm_load_print_meta: rope_finetuned   = unknown
llm_load_print_meta: ssm_d_conv       = 0
llm_load_print_meta: ssm_d_inner      = 0
llm_load_print_meta: ssm_d_state      = 0
llm_load_print_meta: ssm_dt_rank      = 0
llm_load_print_meta: model type       = 13B
llm_load_print_meta: model ftype      = Q5_K - Medium
llm_load_print_meta: model params     = 13.02 B
llm_load_print_meta: model size       = 8.60 GiB (5.67 BPW) 
llm_load_print_meta: general.name     = LLaMA v2
llm_load_print_meta: BOS token        = 1 '&lt;s&gt;'
llm_load_print_meta: EOS token        = 2 '&lt;/s&gt;'
llm_load_print_meta: UNK token        = 0 '&lt;unk&gt;'
llm_load_print_meta: LF token         = 13 '&lt;0x0A&gt;'
llm_load_tensors: ggml ctx size =    0.37 MiB
llm_load_tensors: offloading 38 repeating layers to GPU
llm_load_tensors: offloaded 38/41 layers to GPU
llm_load_tensors:        CPU buffer size =  8801.63 MiB
llm_load_tensors:      CUDA0 buffer size =  8125.43 MiB
....................................................................................................
llama_new_context_with_model: n_ctx      = 4096
llama_new_context_with_model: n_batch    = 512
llama_new_context_with_model: n_ubatch   = 512
llama_new_context_with_model: flash_attn = 0
llama_new_context_with_model: freq_base  = 10000.0
llama_new_context_with_model: freq_scale = 1
llama_kv_cache_init:  CUDA_Host KV buffer size =   160.00 MiB
llama_kv_cache_init:      CUDA0 KV buffer size =  3040.00 MiB
llama_new_context_with_model: KV self size  = 3200.00 MiB, K (f16): 1600.00 MiB, V (f16): 1600.00 MiB
llama_new_context_with_model:  CUDA_Host  output buffer size =     0.12 MiB
llama_new_context_with_model:      CUDA0 compute buffer size =   447.19 MiB
llama_new_context_with_model:  CUDA_Host compute buffer size =    28.01 MiB
llama_new_context_with_model: graph nodes  = 1286
llama_new_context_with_model: graph splits = 26
AVX = 1 | AVX_VNNI = 0 | AVX2 = 1 | AVX512 = 0 | AVX512_VBMI = 0 | AVX512_VNNI = 0 | AVX512_BF16 = 0 | FMA = 1 | NEON = 0 | SVE = 0 | ARM_FMA = 0 | F16C = 1 | FP16_VA = 0 | WASM_SIMD = 0 | BLAS = 1 | SSE3 = 1 | SSSE3 = 1 | VSX = 0 | MATMUL_INT8 = 0 | LLAMAFILE = 1 | 
Model metadata: {'tokenizer.ggml.unknown_token_id': '0', 'tokenizer.ggml.eos_token_id': '2', 'general.architecture': 'llama', 'llama.context_length': '4096', 'general.name': 'LLaMA v2', 'llama.embedding_length': '5120', 'llama.feed_forward_length': '13824', 'llama.attention.layer_norm_rms_epsilon': '0.000010', 'llama.rope.dimension_count': '128', 'llama.attention.head_count': '40', 'tokenizer.ggml.bos_token_id': '1', 'llama.block_count': '40', 'llama.attention.head_count_kv': '40', 'general.quantization_version': '2', 'tokenizer.ggml.model': 'llama', 'general.file_type': '17'}
Using fallback chat format: llama-2</code></pre>
</div>
</div>
</section>
<section id="response" class="level4">
<h4 class="anchored" data-anchor-id="response">Response</h4>
<div id="cell-18" class="cell" data-execution_count="316">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> response(query, max_tokens<span class="op">=</span><span class="dv">512</span>, temperature<span class="op">=</span><span class="dv">0</span>, top_p<span class="op">=</span><span class="fl">1.0</span>, top_k<span class="op">=</span><span class="dv">0</span>):</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    model_output <span class="op">=</span> llm(</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>        prompt<span class="op">=</span>query,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>        max_tokens<span class="op">=</span>max_tokens,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>        temperature<span class="op">=</span>temperature,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>        top_p<span class="op">=</span>top_p,</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>        top_k<span class="op">=</span>top_k</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> model_output[<span class="st">'choices'</span>][<span class="dv">0</span>][<span class="st">'text'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="query-1-what-is-the-protocol-for-managing-sepsis-in-a-critical-care-unit" class="level3">
<h3 class="anchored" data-anchor-id="query-1-what-is-the-protocol-for-managing-sepsis-in-a-critical-care-unit">Query 1: What is the protocol for managing sepsis in a critical care unit?</h3>
<div id="cell-20" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:261}}" data-outputid="b62a2bd5-0de1-41a4-8299-ed85e26a6dc7" data-execution_count="317">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>user_prompt <span class="op">=</span> <span class="st">"What is the protocol for managing sepsis in a critical care unit?"</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>response(user_prompt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     329.67 ms /   512 runs   (    0.64 ms per token,  1553.08 tokens per second)
llama_print_timings: prompt eval time =    1761.76 ms /    17 tokens (  103.63 ms per token,     9.65 tokens per second)
llama_print_timings:        eval time =   17446.56 ms /   511 runs   (   34.14 ms per token,    29.29 tokens per second)
llama_print_timings:       total time =   20087.38 ms /   528 tokens</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="317">
<pre><code>"\nSepsis is a life-threatening condition that can arise from an infection, and it is a leading cause of death in hospitals. The management of sepsis in a critical care unit (CCU) requires a systematic approach that includes early recognition, prompt treatment, and ongoing monitoring. Here is a general protocol for managing sepsis in a CCU:\n\n1. Early recognition:\n\t* Use a standardized screening tool, such as the Sepsis-3 definition, to identify patients who are at risk of developing sepsis.\n\t* Monitor patients for signs and symptoms of sepsis, such as fever, tachycardia, tachypnea, and altered mental status.\n2. Initial assessment:\n\t* Perform a thorough physical examination to identify any signs of infection or organ dysfunction.\n\t* Order blood cultures and other diagnostic tests (such as complete blood count, electrolytes, and renal function tests) to confirm the diagnosis of sepsis.\n3. Resuscitation:\n\t* Administer broad-spectrum antibiotics within the first hour of recognition of sepsis, and continue until the patient is stable or the source of infection has been identified and treated.\n\t* Provide fluid resuscitation with crystalloids or colloids as needed to maintain mean arterial pressure (MAP) ≥ 65 mmHg.\n\t* Consider vasopressor therapy if MAP &lt; 65 mmHg despite fluid resuscitation.\n4. Source control:\n\t* Identify and treat the source of infection, such as a urinary tract infection, pneumonia, or bloodstream infection.\n\t* Consider surgical intervention if the source of infection is a abscess or infected tissue.\n5. Supportive care:\n\t* Provide mechanical ventilation if the patient requires respiratory support.\n\t* Manage hypotension with vasopressor therapy and fluid resuscitation as needed.\n\t* Monitor and manage electrolyte imbalances, such as hyperkalemia or hypocalcemia.\n6. Monitoring:\n\t* Continuously monitor the patient's vital signs, including temperature, blood pressure, tachycardia"</code></pre>
</div>
</div>
</section>
<section id="query-2-what-are-the-common-symptoms-for-appendicitis-and-can-it-be-cured-via-medicine-if-not-what-surgical-procedure-should-be-followed-to-treat-it" class="level3">
<h3 class="anchored" data-anchor-id="query-2-what-are-the-common-symptoms-for-appendicitis-and-can-it-be-cured-via-medicine-if-not-what-surgical-procedure-should-be-followed-to-treat-it">Query 2: What are the common symptoms for appendicitis, and can it be cured via medicine? If not, what surgical procedure should be followed to treat it?</h3>
<div id="cell-22" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:278}}" data-outputid="6b7d0840-d502-4fd3-f1eb-7d9d9d69552c" data-execution_count="318">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>user_prompt <span class="op">=</span> <span class="st">"What are the common symptoms for appendicitis, and can it be cured via medicine? If not, what surgical procedure should be followed to treat it?"</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>response(user_prompt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     314.81 ms /   490 runs   (    0.64 ms per token,  1556.51 tokens per second)
llama_print_timings: prompt eval time =     238.00 ms /    33 tokens (    7.21 ms per token,   138.66 tokens per second)
llama_print_timings:        eval time =   16052.19 ms /   489 runs   (   32.83 ms per token,    30.46 tokens per second)
llama_print_timings:       total time =   17097.09 ms /   522 tokens</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="318">
<pre><code>'\n\nAnswer:\n\nAppendicitis is a medical emergency that requires prompt treatment. The most common symptoms of appendicitis include:\n\n1. Severe pain in the abdomen, usually starting near the belly button and then moving to the lower right side of the abdomen.\n2. Nausea and vomiting.\n3. Loss of appetite.\n4. Fever.\n5. Abdominal tenderness and guarding (muscle tension).\n6. Abdominal swelling.\n7. Diarrhea or constipation.\n\nIf you suspect that you or someone else may have appendicitis, it is essential to seek medical attention immediately. Appendicitis can be cured via surgery, but not with medicine. In fact, delaying treatment can lead to serious complications, such as the appendix rupturing and spreading infection throughout the abdominal cavity.\n\nThe surgical procedure used to treat appendicitis is called an appendectomy. There are two types of appendectomies: open and laparoscopic.\n\n1. Open Appendectomy: This is the traditional method, where a single incision is made in the lower right abdomen to remove the inflamed appendix. The wound is then closed with sutures or staples.\n2. Laparoscopic Appendectomy: This is a less invasive procedure, where several small incisions are made in the abdomen, and a laparoscope (a thin tube with a camera and light) is inserted to visualize the appendix. The inflamed appendix is then removed through one of the small incisions.\n\nBoth procedures are usually performed under general anesthesia, and the patient can expect to stay in the hospital for a few days after surgery. In some cases, the surgeon may decide to perform an open appendectomy if the appendix has already ruptured or if there are other complications present.\n\nIt is important to note that while antibiotics may be given to treat any underlying infection, they cannot cure appendicitis. Only surgical removal of the inflamed appendix can effectively treat the condition.'</code></pre>
</div>
</div>
</section>
<section id="query-3-what-are-the-effective-treatments-or-solutions-for-addressing-sudden-patchy-hair-loss-commonly-seen-as-localized-bald-spots-on-the-scalp-and-what-could-be-the-possible-causes-behind-it" class="level3">
<h3 class="anchored" data-anchor-id="query-3-what-are-the-effective-treatments-or-solutions-for-addressing-sudden-patchy-hair-loss-commonly-seen-as-localized-bald-spots-on-the-scalp-and-what-could-be-the-possible-causes-behind-it">Query 3: What are the effective treatments or solutions for addressing sudden patchy hair loss, commonly seen as localized bald spots on the scalp, and what could be the possible causes behind it?</h3>
<div id="cell-24" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:278}}" data-outputid="6edbc6ee-76a7-4252-e211-64c3910043dd" data-execution_count="319">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>user_prompt <span class="op">=</span> <span class="st">"What are the effective treatments or solutions for addressing sudden patchy hair loss, commonly seen as localized bald spots on the scalp, and what could be the possible causes behind it?"</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>response(user_prompt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     322.16 ms /   512 runs   (    0.63 ms per token,  1589.28 tokens per second)
llama_print_timings: prompt eval time =     247.18 ms /    37 tokens (    6.68 ms per token,   149.69 tokens per second)
llama_print_timings:        eval time =   16779.47 ms /   511 runs   (   32.84 ms per token,    30.45 tokens per second)
llama_print_timings:       total time =   17860.28 ms /   548 tokens</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="319">
<pre><code>"\nSudden patchy hair loss, also known as alopecia areata, can be caused by a variety of factors. Here are some effective treatments and solutions for addressing this condition:\n\n1. Corticosteroid injections: These injections can help suppress the immune system and promote hair growth. They are usually given every 4-6 weeks and can be effective in promoting hair regrowth.\n2. Topical corticosteroids: Over-the-counter or prescription topical corticosteroids can be applied directly to the affected area to reduce inflammation and promote hair growth.\n3. Minoxidil (Rogaine): This is a solution that is applied to the scalp to stimulate hair growth. It is available over-the-counter and can be effective in promoting hair regrowth.\n4. Anthralin: This is a medication that is applied to the skin to reduce inflammation and promote hair growth. It is often used in combination with corticosteroids.\n5. Phototherapy: Exposure to specific wavelengths of light, such as ultraviolet B (UVB) or narrowband UVB, can help reduce inflammation and promote hair growth.\n6. Immunotherapy: This involves using medications to suppress the immune system and promote hair growth. One common treatment is diphencyprone (DPCP), which causes a mild allergic reaction that leads to hair growth.\n7. Platelet-rich plasma (PRP) therapy: This involves injecting platelet-rich plasma (PRP) into the affected area to stimulate hair growth. PRP is derived from the patient's own blood and contains growth factors that promote hair growth.\n8. Low-level laser therapy (LLLT): This involves using a low-level laser or light-emitting device to stimulate hair growth. It is thought that the light energy increases blood flow to the scalp, which promotes hair growth.\n9. Dietary changes: Making changes to your diet can help promote hair growth. Eating foods rich in vitamins and minerals, such as biotin, vitamin D, and iron, can help support hair growth.\n10. Reducing stress: Stress can contribute to hair loss, so"</code></pre>
</div>
</div>
</section>
<section id="query-4-what-treatments-are-recommended-for-a-person-who-has-sustained-a-physical-injury-to-brain-tissue-resulting-in-temporary-or-permanent-impairment-of-brain-function" class="level3">
<h3 class="anchored" data-anchor-id="query-4-what-treatments-are-recommended-for-a-person-who-has-sustained-a-physical-injury-to-brain-tissue-resulting-in-temporary-or-permanent-impairment-of-brain-function">Query 4: What treatments are recommended for a person who has sustained a physical injury to brain tissue, resulting in temporary or permanent impairment of brain function?</h3>
<div id="cell-26" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:278}}" data-outputid="c59839da-374a-4e87-8c95-360381ebb848" data-execution_count="320">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>user_prompt <span class="op">=</span> <span class="st">"What treatments are recommended for a person who has sustained a physical injury to brain tissue, resulting in temporary or permanent impairment of brain function?"</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>response(user_prompt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     315.46 ms /   512 runs   (    0.62 ms per token,  1623.05 tokens per second)
llama_print_timings: prompt eval time =     370.89 ms /    31 tokens (   11.96 ms per token,    83.58 tokens per second)
llama_print_timings:        eval time =   16520.01 ms /   511 runs   (   32.33 ms per token,    30.93 tokens per second)
llama_print_timings:       total time =   17724.66 ms /   542 tokens</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="320">
<pre><code>"\nThere are several treatments that may be recommended for a person who has sustained a physical injury to brain tissue, resulting in temporary or permanent impairment of brain function. The specific treatment plan will depend on the location and severity of the injury, as well as the individual's overall health and medical history. Some common treatments for brain injuries include:\n\n1. Medications: To manage symptoms such as pain, inflammation, and anxiety.\n2. Rehabilitation therapy: To help regain lost function and improve cognitive, physical, and emotional abilities. This may include physical therapy, occupational therapy, speech therapy, and cognitive therapy.\n3. Surgery: To repair damaged brain tissue or relieve pressure on the brain.\n4. Neurostimulation therapies: Such as transcranial magnetic stimulation (TMS) or transcranial direct current stimulation (tDCS), which can help improve cognitive function and reduce symptoms of depression.\n5. Cognitive rehabilitation: To help the individual learn new strategies and techniques to compensate for any lost cognitive abilities.\n6. Behavioral interventions: Such as cognitive-behavioral therapy (CBT) or behavioral activation, which can help improve mood and reduce symptoms of depression and anxiety.\n7. Lifestyle changes: Such as regular exercise, a healthy diet, and stress management techniques, which can help improve overall health and well-being.\n8. Assistive technology: Such as wheelchairs, walkers, or communication devices, which can help the individual with daily activities and communication.\n9. Home modifications: Such as installing handrails or widening doorways, which can help the individual navigate their environment more safely and easily.\n10. Support groups: Which can provide a sense of community and support for the individual and their family members.\n\nIt's important to note that the most effective treatment plan for a brain injury will be highly individualized and may involve a combination of these treatments. It's also important to work with a healthcare team, including a neurologist, rehabilitation therapists, and other specialists, to develop a comprehensive treatment plan that addresses the individual's specific needs and goals."</code></pre>
</div>
</div>
</section>
<section id="query-5-what-are-the-necessary-precautions-and-treatment-steps-for-a-person-who-has-fractured-their-leg-during-a-hiking-trip-and-what-should-be-considered-for-their-care-and-recovery" class="level3">
<h3 class="anchored" data-anchor-id="query-5-what-are-the-necessary-precautions-and-treatment-steps-for-a-person-who-has-fractured-their-leg-during-a-hiking-trip-and-what-should-be-considered-for-their-care-and-recovery">Query 5: What are the necessary precautions and treatment steps for a person who has fractured their leg during a hiking trip, and what should be considered for their care and recovery?</h3>
<div id="cell-28" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:278}}" data-outputid="418c2c56-6a61-46b0-b8e7-4c36019f4c25" data-execution_count="321">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>user_prompt <span class="op">=</span> <span class="st">"What are the necessary precautions and treatment steps for a person who has fractured their leg during a hiking trip, and what should be considered for their care and recovery?"</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>response(user_prompt)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     317.25 ms /   512 runs   (    0.62 ms per token,  1613.87 tokens per second)
llama_print_timings: prompt eval time =     224.85 ms /    37 tokens (    6.08 ms per token,   164.55 tokens per second)
llama_print_timings:        eval time =   16845.06 ms /   511 runs   (   32.96 ms per token,    30.34 tokens per second)
llama_print_timings:       total time =   17914.58 ms /   548 tokens</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="321">
<pre><code>'\n\nA person who has fractured their leg during a hiking trip requires prompt medical attention to ensure proper healing and prevent complications. Here are some necessary precautions and treatment steps:\n\n1. Stop all activity: The first step is to stop all activity and rest the affected leg immediately. This will help prevent further damage and reduce the risk of complications.\n2. Assess the severity of the injury: Evaluate the extent of the fracture and determine if there are any other injuries that require attention.\n3. Immobilize the leg: Use a splint or brace to immobilize the affected leg and prevent further movement. This will help reduce pain and promote healing.\n4. Apply ice: Apply ice packs to the affected area to reduce swelling and pain. Wrap the ice in a towel or cloth to avoid direct contact with the skin.\n5. Elevate the leg: Elevate the affected leg above the level of the heart to reduce swelling and promote blood flow.\n6. Monitor for signs of complications: Monitor the patient for signs of complications such as numbness, tingling, or coldness in the affected limb, which could indicate nerve damage or poor circulation.\n7. Seek medical attention: If the fracture is severe or if there are any signs of complications, seek immediate medical attention. A medical professional will be able to assess the extent of the injury and provide appropriate treatment.\n8. Provide pain management: Administer pain medication as prescribed by a medical professional to manage pain and discomfort.\n9. Monitor for infection: Monitor the patient for signs of infection such as redness, swelling, or increased pain. If an infection is suspected, seek medical attention immediately.\n10. Follow-up care: Schedule follow-up appointments with a medical professional to monitor the healing process and ensure that the fracture is properly aligned and immobilized.\n\nDuring the recovery process, it is important to consider the following:\n\n1. Rest and avoid strenuous activities: Avoid any strenuous activities or heavy lifting during the recovery period to allow the fracture to heal properly.\n2. Follow a rehabilitation program: A medical professional will be able to provide a rehabilitation'</code></pre>
</div>
</div>
</section>
</section>
<section id="question-answering-using-llm-with-prompt-engineering" class="level2">
<h2 class="anchored" data-anchor-id="question-answering-using-llm-with-prompt-engineering">Question Answering using LLM with Prompt Engineering</h2>
<div id="cell-30" class="cell" data-execution_count="322">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> Markdown, display</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>system_prompt <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="st">You are a highly knowledgeable clinical assistant trained in evidence-based medicine. Your job is to answer clinical questions clearly, accurately, and in a structured format suitable for healthcare professionals or informed patients.</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="st">Follow these rules:</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="st">- Use **bold section titles**</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="st">- Break answers into logical sections: causes, symptoms, diagnosis, treatment, recovery, etc.</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="st">- Use numbered or bulleted lists where appropriate</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="st">- Use concise medical language—short, clear sentences</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="st">- Do not speculate. If something is unknown or controversial, say so.</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a><span class="st">If the question involves treatment, list both **medical** and **surgical** options if relevant.</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a><span class="st">If the condition has subtypes or multiple causes, include them.</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a><span class="st">If the treatment requires further testing or depends on context, mention that.</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a><span class="st">Answer the following question:</span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> response_prompt(query, max_tokens<span class="op">=</span><span class="dv">1024</span>, temperature<span class="op">=</span><span class="dv">0</span>, top_p<span class="op">=</span><span class="fl">1.0</span>, top_k<span class="op">=</span><span class="dv">0</span>):</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>    prompt <span class="op">=</span> system_prompt <span class="op">+</span> <span class="ss">f"### Question:</span><span class="ch">\n</span><span class="sc">{</span>query<span class="sc">}</span><span class="ch">\n\n</span><span class="ss">### Answer:</span><span class="ch">\n</span><span class="ss">"</span></span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>    model_output <span class="op">=</span> llm(</span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a>        prompt<span class="op">=</span>prompt,</span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>        max_tokens<span class="op">=</span>max_tokens,</span>
<span id="cb24-27"><a href="#cb24-27" aria-hidden="true" tabindex="-1"></a>        temperature<span class="op">=</span>temperature,</span>
<span id="cb24-28"><a href="#cb24-28" aria-hidden="true" tabindex="-1"></a>        top_p<span class="op">=</span>top_p,</span>
<span id="cb24-29"><a href="#cb24-29" aria-hidden="true" tabindex="-1"></a>        top_k<span class="op">=</span>top_k</span>
<span id="cb24-30"><a href="#cb24-30" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb24-31"><a href="#cb24-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-32"><a href="#cb24-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> model_output[<span class="st">'choices'</span>][<span class="dv">0</span>][<span class="st">'text'</span>]</span>
<span id="cb24-33"><a href="#cb24-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-34"><a href="#cb24-34" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> display_markdown_output(raw_text):</span>
<span id="cb24-35"><a href="#cb24-35" aria-hidden="true" tabindex="-1"></a>    cleaned_text <span class="op">=</span> raw_text.encode().decode(<span class="st">'unicode_escape'</span>).strip()</span>
<span id="cb24-36"><a href="#cb24-36" aria-hidden="true" tabindex="-1"></a>    display(Markdown(cleaned_text))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="query-1-what-is-the-protocol-for-managing-sepsis-in-a-critical-care-unit-1" class="level3">
<h3 class="anchored" data-anchor-id="query-1-what-is-the-protocol-for-managing-sepsis-in-a-critical-care-unit-1">Query 1: What is the protocol for managing sepsis in a critical care unit?</h3>
<div id="cell-32" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:875}}" data-outputid="8d2197c0-3cc0-477e-edb9-46b26206a276" data-execution_count="323">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>user_prompt <span class="op">=</span> <span class="st">"What is the protocol for managing sepsis in a critical care unit?"</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>raw_response <span class="op">=</span> response_prompt(user_prompt)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>display_markdown_output(raw_response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     555.17 ms /   875 runs   (    0.63 ms per token,  1576.10 tokens per second)
llama_print_timings: prompt eval time =     373.61 ms /   214 tokens (    1.75 ms per token,   572.79 tokens per second)
llama_print_timings:        eval time =   28947.03 ms /   874 runs   (   33.12 ms per token,    30.19 tokens per second)
llama_print_timings:       total time =   31076.19 ms /  1088 tokens</code></pre>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p><strong>Sepsis Definition and Protocol Overview</strong></p>
<p>Sepsis is a life-threatening organ dysfunction caused by a systemic inflammatory response to an infection. The protocol for managing sepsis in a critical care unit involves early recognition, prompt administration of antibiotics and supportive care, and careful monitoring of vital signs and organ function.</p>
<p><strong>Causes and Risk Factors</strong></p>
<p>Sepsis can be caused by any type of infection, but common culprits include pneumonia, urinary tract infections, and bloodstream infections. Risk factors for developing sepsis include age over 65, weakened immune system, recent surgery or invasive medical procedure, and underlying chronic conditions such as diabetes, heart disease, or kidney disease.</p>
<p><strong>Symptoms</strong></p>
<p>Early signs of sepsis can be subtle and may progress rapidly. Key symptoms to watch for include fever, tachycardia, tachypnea, confusion, and decreased urine output. As sepsis worsens, patients may develop septic shock, organ failure, and disseminated intravascular coagulation (DIC).</p>
<p><strong>Diagnosis</strong></p>
<p>Sepsis is diagnosed based on clinical presentation, laboratory values, and imaging studies. The Sepsis-3 definition requires the presence of systemic inflammatory response syndrome (SIRS) criteria and organ dysfunction. SIRS criteria include body temperature &gt;38Â°C or &lt;36Â°C, heart rate &gt;90 beats per minute, respiratory rate &gt;20 breaths per minute, or white blood cell count &gt;12,000 cells/mm3 or &lt;4,000 cells/mm3.</p>
<p><strong>Treatment and Recovery</strong></p>
<p>Early recognition and administration of antibiotics are critical for effective sepsis management. Broad-spectrum antibiotics should be administered within the first hour of diagnosis, ideally via central venous catheter. Supportive care includes mechanical ventilation, vasopressors, and fluid resuscitation as needed.</p>
<p><strong>Treatment Options</strong></p>
<p>Medical options for sepsis management include:</p>
<ol type="1">
<li>Antibiotics: Broad-spectrum antibiotics effective against common causes of sepsis, such as Pseudomonas aeruginosa and methicillin-resistant Staphylococcus aureus (MRSA).</li>
<li>Vasopressors: To maintain mean arterial pressure â¥65 mmHg and prevent hypotension.</li>
<li>Mechanical ventilation: As needed to support respiratory function.</li>
<li>Fluid resuscitation: With isotonic fluids to maintain urine output and prevent hypovolemia.</li>
</ol>
<p>Surgical options for sepsis management include:</p>
<ol type="1">
<li>Source control: Surgical debridement or removal of the infected focus, such as a abscess or infected tissue.</li>
<li>Vascular access: Placement of central venous catheters or arterial lines for fluid resuscitation and monitoring.</li>
<li>Thoracotomy: For severe respiratory failure refractory to medical management.</li>
</ol>
<p><strong>Recovery and Follow-Up</strong></p>
<p>Sepsis recovery is a complex process that requires careful monitoring of vital signs, laboratory values, and organ function. Patients may require prolonged hospitalization and rehabilitation to regain lost strength and function. Follow-up care should include regular check-ups with a primary care physician and specialists as needed.</p>
<p>In conclusion, the protocol for managing sepsis in a critical care unit involves early recognition, prompt administration of antibiotics and supportive care, and careful monitoring of vital signs and organ function. Prompt treatment and close monitoring can significantly improve outcomes for patients with sepsis.</p>
</div>
</div>
</section>
<section id="query-2-what-are-the-common-symptoms-for-appendicitis-and-can-it-be-cured-via-medicine-if-not-what-surgical-procedure-should-be-followed-to-treat-it-1" class="level3">
<h3 class="anchored" data-anchor-id="query-2-what-are-the-common-symptoms-for-appendicitis-and-can-it-be-cured-via-medicine-if-not-what-surgical-procedure-should-be-followed-to-treat-it-1">Query 2: What are the common symptoms for appendicitis, and can it be cured via medicine? If not, what surgical procedure should be followed to treat it?</h3>
<div id="cell-34" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:707}}" data-outputid="185f25ea-1736-40b9-cefb-2ae8479f98f9" data-execution_count="324">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>user_prompt <span class="op">=</span> <span class="st">"What are the common symptoms for appendicitis, and can it be cured via medicine? If not, what surgical procedure should be followed to treat it?"</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>raw_response <span class="op">=</span> response_prompt(user_prompt)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>display_markdown_output(raw_response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     324.51 ms /   513 runs   (    0.63 ms per token,  1580.83 tokens per second)
llama_print_timings: prompt eval time =     220.42 ms /    40 tokens (    5.51 ms per token,   181.47 tokens per second)
llama_print_timings:        eval time =   16963.93 ms /   512 runs   (   33.13 ms per token,    30.18 tokens per second)
llama_print_timings:       total time =   18026.34 ms /   552 tokens</code></pre>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p><strong>Symptoms of Appendicitis:</strong></p>
<ul>
<li>Sudden onset of severe pain in the lower right abdomen (often migrating to the lower back)</li>
<li>Nausea and vomiting</li>
<li>Loss of appetite</li>
<li>Fever (usually &gt;38Â°C/100.4Â°F)</li>
<li>Abdominal tenderness and guarding (muscle tension)</li>
<li>Rigidity in the abdomen</li>
<li>Palpable mass in the right lower quadrant of the abdomen</li>
</ul>
<p><strong>Diagnosis:</strong></p>
<ul>
<li>Physical examination findings</li>
<li>Laboratory tests (e.g., complete blood count, inflammatory markers)</li>
<li>Imaging studies (e.g., X-ray, CT scan) to confirm the diagnosis and assess the severity of the condition</li>
</ul>
<p><strong>Treatment:</strong></p>
<p><strong>Medications:</strong></p>
<ul>
<li>Pain management with nonsteroidal anti-inflammatory drugs (NSAIDs) or opioids</li>
<li>Antibiotics to prevent or treat secondary infections</li>
</ul>
<p><strong>Surgical Procedure:</strong></p>
<p>The standard surgical procedure for appendicitis is an appendectomy, which involves the removal of the inflamed appendix. The two main types of appendectomies are:</p>
<ol type="1">
<li>Open Appendectomy: A traditional open surgery where a single incision is made in the lower right abdomen to access and remove the inflamed appendix.</li>
<li>Laparoscopic Appendectomy: A minimally invasive procedure using a laparoscope (thin tube with a camera) and specialized instruments to remove the inflamed appendix through small incisions.</li>
</ol>
<p><strong>Recovery:</strong></p>
<p>After an appendectomy, patients typically spend 1-2 days in the hospital for observation and pain management. Full recovery from surgery takes about 2-4 weeks, during which time patients should avoid heavy lifting, bending, or strenuous activities.</p>
<p>It is important to note that appendicitis can be a medical emergency, and prompt treatment is essential to prevent complications such as perforation of the appendix, peritonitis, or sepsis. If you suspect appendicitis, seek immediate medical attention.</p>
</div>
</div>
</section>
<section id="query-3-what-are-the-effective-treatments-or-solutions-for-addressing-sudden-patchy-hair-loss-commonly-seen-as-localized-bald-spots-on-the-scalp-and-what-could-be-the-possible-causes-behind-it-1" class="level3">
<h3 class="anchored" data-anchor-id="query-3-what-are-the-effective-treatments-or-solutions-for-addressing-sudden-patchy-hair-loss-commonly-seen-as-localized-bald-spots-on-the-scalp-and-what-could-be-the-possible-causes-behind-it-1">Query 3: What are the effective treatments or solutions for addressing sudden patchy hair loss, commonly seen as localized bald spots on the scalp, and what could be the possible causes behind it?</h3>
<div id="cell-36" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:759}}" data-outputid="7e73883d-3b2c-4a1e-b9ac-e08cc864fe4a" data-execution_count="325">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>user_prompt <span class="op">=</span> <span class="st">"What are the effective treatments or solutions for addressing sudden patchy hair loss, commonly seen as localized bald spots on the scalp, and what could be the possible causes behind it?"</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>raw_response <span class="op">=</span> response_prompt(user_prompt)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>display_markdown_output(raw_response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     396.35 ms /   626 runs   (    0.63 ms per token,  1579.42 tokens per second)
llama_print_timings: prompt eval time =     227.27 ms /    44 tokens (    5.17 ms per token,   193.61 tokens per second)
llama_print_timings:        eval time =   20628.62 ms /   625 runs   (   33.01 ms per token,    30.30 tokens per second)
llama_print_timings:       total time =   21945.24 ms /   669 tokens</code></pre>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p><strong>Causes:</strong></p>
<ol type="1">
<li><strong>Alopecia Areata</strong>: An autoimmune condition that causes sudden hair loss in patches.</li>
<li><strong>Telogen Effluvium</strong>: A stress-induced condition leading to excessive hair shedding, often resulting in localized bald spots.</li>
<li><strong>Fungal Infections</strong>: Malassezia or ringworm can cause hair loss in specific areas, especially if left untreated.</li>
<li><strong>Traction Alopecia</strong>: Hair loss due to constant pulling or tension on the hair follicles, often seen in individuals with tight hairstyles.</li>
<li><strong>Inflammation</strong>: Conditions like eczema, psoriasis, or seborrheic dermatitis can cause inflammation leading to localized hair loss.</li>
</ol>
<p><strong>Symptoms:</strong></p>
<ol type="1">
<li>Patchy hair loss in specific areas of the scalp.</li>
<li>Hair thinning or balding in a distinct pattern.</li>
<li>Redness, itching, or scaling on the affected area.</li>
<li>Inflammation or crusting around the hair follicles.</li>
</ol>
<p><strong>Diagnosis:</strong></p>
<ol type="1">
<li>Physical examination and medical history.</li>
<li>Blood tests to rule out underlying conditions like thyroid disorders or autoimmune diseases.</li>
<li>Skin scrapings or biopsies for fungal infections or inflammatory conditions.</li>
<li>Imaging studies (e.g., scalp biopsy) to confirm the diagnosis and assess the extent of hair loss.</li>
</ol>
<p><strong>Treatment:</strong></p>
<ol type="1">
<li><strong>Topical Therapies</strong>: Minoxidil (Rogaine) or corticosteroids can help stimulate hair growth and reduce inflammation.</li>
<li><strong>Oral Medications</strong>: Anti-inflammatory drugs like prednisone or immunosuppressive medications like cyclosporine may be prescribed for severe cases.</li>
<li><strong>Surgical Options</strong>: Hair transplantation or scalp reduction can be considered for extensive hair loss.</li>
<li><strong>Lifestyle Changes</strong>: Reducing stress, using gentle hair care products, and avoiding tight hairstyles can help manage the condition.</li>
</ol>
<p><strong>Recovery:</strong></p>
<ol type="1">
<li>Time required for recovery varies depending on the underlying cause and treatment approach.</li>
<li>Regular follow-ups with a dermatologist are essential to monitor progress and adjust the treatment plan as needed.</li>
<li>In some cases, hair growth may not fully recover, but treatment can help slow down or stop further hair loss.</li>
</ol>
<p>It is important to note that sudden patchy hair loss can be distressing, and seeking professional medical advice is crucial for an accurate diagnosis and appropriate treatment.</p>
</div>
</div>
</section>
<section id="query-4-what-treatments-are-recommended-for-a-person-who-has-sustained-a-physical-injury-to-brain-tissue-resulting-in-temporary-or-permanent-impairment-of-brain-function-1" class="level3">
<h3 class="anchored" data-anchor-id="query-4-what-treatments-are-recommended-for-a-person-who-has-sustained-a-physical-injury-to-brain-tissue-resulting-in-temporary-or-permanent-impairment-of-brain-function-1">Query 4: What treatments are recommended for a person who has sustained a physical injury to brain tissue, resulting in temporary or permanent impairment of brain function?</h3>
<div id="cell-38" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:684}}" data-outputid="e604059c-537a-4a1b-8b03-205103f18c52" data-execution_count="326">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>user_input <span class="op">=</span> <span class="st">"What treatments are recommended for a person who has sustained a physical injury to brain tissue, resulting in temporary or permanent impairment of brain function?"</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>raw_response <span class="op">=</span> response_prompt(user_input)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>display_markdown_output(raw_response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     295.10 ms /   468 runs   (    0.63 ms per token,  1585.90 tokens per second)
llama_print_timings: prompt eval time =     441.21 ms /    38 tokens (   11.61 ms per token,    86.13 tokens per second)
llama_print_timings:        eval time =   15356.26 ms /   467 runs   (   32.88 ms per token,    30.41 tokens per second)
llama_print_timings:       total time =   16549.89 ms /   505 tokens</code></pre>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p><strong>Depending on the severity and location of the injury, treatment options for brain tissue injuries may include:</strong></p>
<ol type="1">
<li><strong>Medical therapy:</strong>
<ul>
<li>Pain management with analgesics, sedatives, or anesthetics as needed</li>
<li>Anti-seizure medications if seizures occur</li>
<li>Intravenous fluids and electrolyte replacement as needed</li>
<li>Monitoring of vital signs and neurological status</li>
</ul></li>
<li><strong>Surgical intervention:</strong>
<ul>
<li>Decompression surgery to relieve pressure on the brain caused by swelling or herniation</li>
<li>Craniotomy to repair skull fractures or relieve pressure on specific areas of the brain</li>
<li>Brain tumor resection if the injury is caused by a tumor</li>
</ul></li>
<li><strong>Rehabilitation:</strong>
<ul>
<li>Physical therapy to improve motor function and mobility</li>
<li>Occupational therapy to regain cognitive and daily living skills</li>
<li>Speech therapy to address communication and language deficits</li>
</ul></li>
<li><strong>Supportive care:</strong>
<ul>
<li>Monitoring for complications such as infections, seizures, or blood clots</li>
<li>Nutritional support to ensure adequate calorie and nutrient intake</li>
<li>Psychological support to address emotional and cognitive changes</li>
</ul></li>
<li><strong>Experimental treatments:</strong>
<ul>
<li>Stem cell therapy to promote brain repair and regeneration</li>
<li>Hyperbaric oxygen therapy to improve blood flow and reduce inflammation</li>
<li>Electrical stimulation therapies such as transcranial magnetic stimulation (TMS) or transcranial direct current stimulation (tDCS) to enhance neural plasticity and recovery.</li>
</ul></li>
</ol>
<p><strong>It is important to note that the most appropriate treatment plan will depend on the specific nature and severity of the injury, as well as the individual patient’s needs and medical history. A multidisciplinary team of healthcare professionals should be involved in the decision-making process to ensure the best possible outcome for the patient.</strong></p>
</div>
</div>
</section>
<section id="query-5-what-are-the-necessary-precautions-and-treatment-steps-for-a-person-who-has-fractured-their-leg-during-a-hiking-trip-and-what-should-be-considered-for-their-care-and-recovery-1" class="level3">
<h3 class="anchored" data-anchor-id="query-5-what-are-the-necessary-precautions-and-treatment-steps-for-a-person-who-has-fractured-their-leg-during-a-hiking-trip-and-what-should-be-considered-for-their-care-and-recovery-1">Query 5: What are the necessary precautions and treatment steps for a person who has fractured their leg during a hiking trip, and what should be considered for their care and recovery?</h3>
<div id="cell-40" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:634}}" data-outputid="79f6209c-2e1a-4165-c5f6-ea5a6bdd2810" data-execution_count="327">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>user_input <span class="op">=</span> <span class="st">"What are the necessary precautions and treatment steps for a person who has fractured their leg during a hiking trip, and what should be considered for their care and recovery?"</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>raw_response <span class="op">=</span> response_prompt(user_input)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>display_markdown_output(raw_response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     406.62 ms /   654 runs   (    0.62 ms per token,  1608.37 tokens per second)
llama_print_timings: prompt eval time =     234.48 ms /    44 tokens (    5.33 ms per token,   187.65 tokens per second)
llama_print_timings:        eval time =   21649.65 ms /   653 runs   (   33.15 ms per token,    30.16 tokens per second)
llama_print_timings:       total time =   23043.53 ms /   697 tokens</code></pre>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p><strong>Necessary Precautions:</strong></p>
<ol type="1">
<li><strong>Immobilization</strong>: Use a splint or cast to immobilize the affected limb to prevent further injury and promote healing.</li>
<li><strong>Pain management</strong>: Administer pain medication as needed, ensuring the patient is comfortable and able to rest.</li>
<li><strong>Wound care</strong>: Clean and dress any open wounds to prevent infection.</li>
<li><strong>Hydration</strong>: Encourage the patient to drink plenty of fluids to stay hydrated and support healing.</li>
<li><strong>Monitoring</strong>: Closely monitor the patient’s vital signs, particularly their pulse, breathing rate, and blood pressure.</li>
<li><strong>Transportation</strong>: If necessary, carefully transport the patient to a medical facility for further evaluation and treatment.</li>
</ol>
<p><strong>Treatment Steps:</strong></p>
<ol type="1">
<li><strong>Initial assessment</strong>: Evaluate the severity of the fracture and determine if any other injuries are present.</li>
<li><strong>Imaging studies</strong>: Obtain X-rays or other imaging studies to confirm the diagnosis and assess the extent of the fracture.</li>
<li><strong>Reducation</strong>: If the fracture is displaced, perform reduction (realignment) of the bone to restore proper alignment.</li>
<li><strong>Stabilization</strong>: Use external fixation devices, such as a cast or brace, to stabilize the affected limb and promote healing.</li>
<li><strong>Surgical intervention</strong>: If necessary, perform surgery to realign and stabilize the bone.</li>
<li><strong>Rehabilitation</strong>: Once the patient is stable, begin rehabilitation exercises to regain strength, mobility, and range of motion in the affected limb.</li>
</ol>
<p><strong>Considerations for Care and Recovery:</strong></p>
<ol type="1">
<li><strong>Infection prevention</strong>: Take measures to prevent infection, such as ensuring proper wound care and hygiene.</li>
<li><strong>Pain management</strong>: Continue pain management as needed throughout the recovery process.</li>
<li><strong>Rest and recovery</strong>: Encourage the patient to rest and avoid strenuous activities until the fracture has fully healed.</li>
<li><strong>Monitoring</strong>: Regularly monitor the patient’s progress, addressing any complications or concerns that arise.</li>
<li><strong>Follow-up appointments</strong>: Schedule follow-up appointments with a healthcare provider to assess the patient’s progress and ensure proper healing.</li>
<li><strong>Rehabilitation</strong>: Encourage the patient to participate in rehabilitation exercises to regain strength, mobility, and range of motion in the affected limb.</li>
</ol>
<p>It is important to note that the specific treatment steps and considerations for care and recovery may vary depending on the severity and location of the fracture, as well as the individual patient’s needs and medical history.</p>
</div>
</div>
</section>
</section>
<section id="data-preparation-for-rag" class="level2">
<h2 class="anchored" data-anchor-id="data-preparation-for-rag">Data Preparation for RAG</h2>
<section id="loading-the-data" class="level3">
<h3 class="anchored" data-anchor-id="loading-the-data">Loading the Data</h3>
<div id="cell-43" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}}" data-outputid="0a651f35-8af5-4579-a2e7-78dda6258737" data-execution_count="328">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> google.colab <span class="im">import</span> drive</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>drive.mount(<span class="st">'/content/drive'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Drive already mounted at /content/drive; to attempt to forcibly remount, call drive.mount("/content/drive", force_remount=True).</code></pre>
</div>
</div>
<div id="cell-44" class="cell" data-execution_count="329">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>merk_manual <span class="op">=</span> <span class="st">'/content/drive/MyDrive/medical_diagnosis_manual.pdf'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-45" class="cell" data-execution_count="330">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>pdf_loader <span class="op">=</span> PyMuPDFLoader(merk_manual)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>manual <span class="op">=</span> pdf_loader.load()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-overview" class="level3">
<h3 class="anchored" data-anchor-id="data-overview">Data Overview</h3>
<section id="checking-the-first-5-pages" class="level4">
<h4 class="anchored" data-anchor-id="checking-the-first-5-pages">Checking the first 5 pages</h4>
<div id="cell-48" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}}" data-outputid="b0714433-27e0-4bd1-f05c-31c0185e5d1f" data-execution_count="331">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>):</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Page Number : </span><span class="sc">{</span>i<span class="op">+</span><span class="dv">1</span><span class="sc">}</span><span class="ss">"</span>,end<span class="op">=</span><span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(manual[i].page_content,end<span class="op">=</span><span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Page Number : 1
ajayvmahajan@gmail.com
FZ98U1SOXE
ant for personal use by ajayvmahajan@g
shing the contents in part or full is liable
Page Number : 2
ajayvmahajan@gmail.com
FZ98U1SOXE
This file is meant for personal use by ajayvmahajan@gmail.com only.
Sharing or publishing the contents in part or full is liable for legal action.
Page Number : 3
Table of Contents
1
Front    ................................................................................................................................................................................................................
1
Cover    .......................................................................................................................................................................................................
2
Front Matter    ...........................................................................................................................................................................................
53
1 - Nutritional Disorders    ...............................................................................................................................................................
53
Chapter 1. Nutrition: General Considerations    .....................................................................................................................
59
Chapter 2. Undernutrition    .............................................................................................................................................................
69
Chapter 3. Nutritional Support    ...................................................................................................................................................
76
Chapter 4. Vitamin Deficiency, Dependency &amp; Toxicity    ..................................................................................................
99
Chapter 5. Mineral Deficiency &amp; Toxicity    ..............................................................................................................................
108
Chapter 6. Obesity &amp; the Metabolic Syndrome    ...............................................................................................................
120
2 - Gastrointestinal Disorders    ..............................................................................................................................................
120
Chapter 7. Approach to the Patient With Upper GI Complaints    ...............................................................................
132
Chapter 8. Approach to the Patient With Lower GI Complaints    ...............................................................................
143
Chapter 9. Diagnostic &amp; Therapeutic GI Procedures    ....................................................................................................
150
Chapter 10. GI Bleeding    ............................................................................................................................................................
158
Chapter 11. Acute Abdomen &amp; Surgical Gastroenterology    .........................................................................................
172
Chapter 12. Esophageal &amp; Swallowing Disorders    ..........................................................................................................
183
Chapter 13. Gastritis &amp; Peptic Ulcer Disease    ..................................................................................................................
196
Chapter 14. Bezoars &amp; Foreign Bodies    ..............................................................................................................................
199
Chapter 15. Pancreatitis    ............................................................................................................................................................
206
Chapter 16. Gastroenteritis    ......................................................................................................................................................
213
Chapter 17. Malabsorption Syndromes    ..............................................................................................................................
225
Chapter 18. Irritable Bowel Syndrome    ................................................................................................................................
229
Chapter 19. Inflammatory Bowel Disease    .........................................................................................................................
241
Chapter 20. Diverticular Disease    ...........................................................................................................................................
246
Chapter 21. Anorectal Disorders    ............................................................................................................................................
254
Chapter 22. Tumors of the GI Tract    ......................................................................................................................................
275
3 - Hepatic &amp; Biliary Disorders    ............................................................................................................................................
275
Chapter 23. Approach to the Patient With Liver Disease    ...........................................................................................
294
Chapter 24. Testing for Hepatic &amp; Biliary Disorders    ......................................................................................................
305
Chapter 25. Drugs &amp; the Liver    ................................................................................................................................................
308
Chapter 26. Alcoholic Liver Disease    ....................................................................................................................................
314
Chapter 27. Fibrosis &amp; Cirrhosis    ............................................................................................................................................
322
Chapter 28. Hepatitis    ..................................................................................................................................................................
333
Chapter 29. Vascular Disorders of the Liver    .....................................................................................................................
341
Chapter 30. Liver Masses &amp; Granulomas    ..........................................................................................................................
348
Chapter 31. Gallbladder &amp; Bile Duct Disorders    ...............................................................................................................
362
4 - Musculoskeletal &amp; Connective Tissue Disorders    .........................................................................................
362
Chapter 32. Approach to the Patient With Joint Disease    ............................................................................................
373
Chapter 33. Autoimmune Rheumatic Disorders    ..............................................................................................................
391
Chapter 34. Vasculitis    .................................................................................................................................................................
416
Chapter 35. Joint Disorders    .....................................................................................................................................................
435
Chapter 36. Crystal-Induced Arthritides    ..............................................................................................................................
443
Chapter 37. Osteoporosis    .........................................................................................................................................................
448
Chapter 38. Paget's Disease of Bone    ..................................................................................................................................
451
Chapter 39. Osteonecrosis    .......................................................................................................................................................
455
Chapter 40. Infections of Joints &amp; Bones    ...........................................................................................................................
463
Chapter 41. Bursa, Muscle &amp; Tendon Disorders    .............................................................................................................
470
Chapter 42. Neck &amp; Back Pain    ...............................................................................................................................................
481
Chapter 43. Hand Disorders    ....................................................................................................................................................
ajayvmahajan@gmail.com
FZ98U1SOXE
This file is meant for personal use by ajayvmahajan@gmail.com only.
Sharing or publishing the contents in part or full is liable for legal action.
Page Number : 4
491
Chapter 44. Foot &amp; Ankle Disorders    .....................................................................................................................................
502
Chapter 45. Tumors of Bones &amp; Joints    ...............................................................................................................................
510
5 - Ear, Nose, Throat &amp; Dental Disorders    ..................................................................................................................
510
Chapter 46. Approach to the Patient With Ear Problems    ...........................................................................................
523
Chapter 47. Hearing Loss    .........................................................................................................................................................
535
Chapter 48. Inner Ear Disorders    ............................................................................................................................................
542
Chapter 49. Middle Ear &amp; Tympanic Membrane Disorders    ........................................................................................
550
Chapter 50. External Ear Disorders    .....................................................................................................................................
554
Chapter 51. Approach to the Patient With Nasal &amp; Pharyngeal Symptoms    .......................................................
567
Chapter 52. Oral &amp; Pharyngeal Disorders    .........................................................................................................................
578
Chapter 53. Nose &amp; Paranasal Sinus Disorders    .............................................................................................................
584
Chapter 54. Laryngeal Disorders    ...........................................................................................................................................
590
Chapter 55. Tumors of the Head &amp; Neck    ...........................................................................................................................
600
Chapter 56. Approach to Dental &amp; Oral Symptoms    .......................................................................................................
619
Chapter 57. Common Dental Disorders    .............................................................................................................................
629
Chapter 58. Dental Emergencies    ..........................................................................................................................................
635
Chapter 59. Temporomandibular Disorders    ......................................................................................................................
641
6 - Eye Disorders    ............................................................................................................................................................................
641
Chapter 60. Approach to the Ophthalmologic Patient    ..................................................................................................
669
Chapter 61. Refractive Error    ...................................................................................................................................................
674
Chapter 62. Eyelid &amp; Lacrimal Disorders    ...........................................................................................................................
680
Chapter 63. Conjunctival &amp; Scleral Disorders    .................................................................................................................
690
Chapter 64. Corneal Disorders    ...............................................................................................................................................
703
Chapter 65. Glaucoma    ...............................................................................................................................................................
710
Chapter 66. Cataract    ...................................................................................................................................................................
713
Chapter 67. Uveitis    ......................................................................................................................................................................
719
Chapter 68. Retinal Disorders    .................................................................................................................................................
731
Chapter 69. Optic Nerve Disorders    ......................................................................................................................................
737
Chapter 70. Orbital Diseases    ..................................................................................................................................................
742
7 - Dermatologic Disorders    ....................................................................................................................................................
742
Chapter 71. Approach to the Dermatologic Patient    .......................................................................................................
755
Chapter 72. Principles of Topical Dermatologic Therapy    ............................................................................................
760
Chapter 73. Acne &amp; Related Disorders    ...............................................................................................................................
766
Chapter 74. Bullous Diseases    .................................................................................................................................................
771
Chapter 75. Cornification Disorders    .....................................................................................................................................
775
Chapter 76. Dermatitis    ...............................................................................................................................................................
786
Chapter 77. Reactions to Sunlight    ........................................................................................................................................
791
Chapter 78. Psoriasis &amp; Scaling Diseases    ........................................................................................................................
799
Chapter 79. Hypersensitivity &amp; Inflammatory Disorders    .............................................................................................
808
Chapter 80. Sweating Disorders    ............................................................................................................................................
811
Chapter 81. Bacterial Skin Infections    ...................................................................................................................................
822
Chapter 82. Fungal Skin Infections    ......................................................................................................................................
831
Chapter 83. Parasitic Skin Infections    ...................................................................................................................................
836
Chapter 84. Viral Skin Diseases    ............................................................................................................................................
841
Chapter 85. Pigmentation Disorders    ....................................................................................................................................
846
Chapter 86. Hair Disorders    .......................................................................................................................................................
855
Chapter 87. Nail Disorders    .......................................................................................................................................................
861
Chapter 88. Pressure Ulcers    ...................................................................................................................................................
867
Chapter 89. Benign Tumors    .....................................................................................................................................................
874
Chapter 90. Cancers of the Skin    ............................................................................................................................................
882
8 - Endocrine &amp; Metabolic Disorders    .............................................................................................................................
882
Chapter 91. Principles of Endocrinology    ............................................................................................................................
887
Chapter 92. Pituitary Disorders    ..............................................................................................................................................
901
Chapter 93. Thyroid Disorders    ................................................................................................................................................
ajayvmahajan@gmail.com
FZ98U1SOXE
This file is meant for personal use by ajayvmahajan@gmail.com only.
Sharing or publishing the contents in part or full is liable for legal action.
Page Number : 5
921
Chapter 94. Adrenal Disorders    ................................................................................................................................................
936
Chapter 95. Polyglandular Deficiency Syndromes    ........................................................................................................
939
Chapter 96. Porphyrias    ..............................................................................................................................................................
949
Chapter 97. Fluid &amp; Electrolyte Metabolism    .....................................................................................................................
987
Chapter 98. Acid-Base Regulation &amp; Disorders    ..............................................................................................................
1001
Chapter 99. Diabetes Mellitus &amp; Disorders of Carbohydrate Metabolism    ........................................................
1024
Chapter 100. Lipid Disorders    ................................................................................................................................................
1034
Chapter 101. Amyloidosis    ......................................................................................................................................................
1037
Chapter 102. Carcinoid Tumors    ..........................................................................................................................................
1040
Chapter 103. Multiple Endocrine Neoplasia Syndromes    .........................................................................................
1046
9 - Hematology &amp; Oncology    ...............................................................................................................................................
1046
Chapter 104. Approach to the Patient With Anemia    ..................................................................................................
1050
Chapter 105. Anemias Caused by Deficient Erythropoiesis    ...................................................................................
1061
Chapter 106. Anemias Caused by Hemolysis    ...............................................................................................................
1078
Chapter 107. Neutropenia &amp; Lymphocytopenia    ...........................................................................................................
1086
Chapter 108. Thrombocytopenia &amp; Platelet Dysfunction    .........................................................................................
1097
Chapter 109. Hemostasis    ......................................................................................................................................................
1104
Chapter 110. Thrombotic Disorders    ...................................................................................................................................
1107
Chapter 111. Coagulation Disorders    ..................................................................................................................................
1113
Chapter 112. Bleeding Due to Abnormal Blood Vessels    ...........................................................................................
1116
Chapter 113. Spleen Disorders    ............................................................................................................................................
1120
Chapter 114. Eosinophilic Disorders    .................................................................................................................................
1126
Chapter 115. Histiocytic Syndromes    .................................................................................................................................
1131
Chapter 116. Myeloproliferative Disorders    .....................................................................................................................
1141
Chapter 117. Leukemias    .........................................................................................................................................................
1154
Chapter 118. Lymphomas    ......................................................................................................................................................
1164
Chapter 119. Plasma Cell Disorders    .................................................................................................................................
1172
Chapter 120. Iron Overload    ...................................................................................................................................................
1177
Chapter 121. Transfusion Medicine    ...................................................................................................................................
1186
Chapter 122. Overview of Cancer    ......................................................................................................................................
1198
Chapter 123. Tumor Immunology    .......................................................................................................................................
1204
Chapter 124. Principles of Cancer Therapy    ...................................................................................................................
1215
10 - Immunology; Allergic Disorders    ...........................................................................................................................
1215
Chapter 125. Biology of the Immune System    ...............................................................................................................
1227
Chapter 126. Immunodeficiency Disorders    ....................................................................................................................
1243
Chapter 127. Allergic &amp; Other Hypersensitivity Disorders    .......................................................................................
1263
Chapter 128. Transplantation    ...............................................................................................................................................
1281
11 - Infectious Diseases    ........................................................................................................................................................
1281
Chapter 129. Biology of Infectious Disease    ...................................................................................................................
1300
Chapter 130. Laboratory Diagnosis of Infectious Disease    ......................................................................................
1306
Chapter 131. Immunization    ...................................................................................................................................................
1313
Chapter 132. Bacteria &amp; Antibacterial Drugs    .................................................................................................................
1353
Chapter 133. Gram-Positive Cocci    ....................................................................................................................................
1366
Chapter 134. Gram-Positive Bacilli    ...................................................................................................................................
1376
Chapter 135. Gram-Negative Bacilli    .................................................................................................................................
1405
Chapter 136. Spirochetes    ......................................................................................................................................................
1413
Chapter 137. Neisseriaceae    .................................................................................................................................................
1419
Chapter 138. Chlamydia &amp; Mycoplasmas    ......................................................................................................................
1421
Chapter 139. Rickettsiae &amp; Related Organisms    ..........................................................................................................
1431
Chapter 140. Anaerobic Bacteria    ........................................................................................................................................
1450
Chapter 141. Mycobacteria    ...................................................................................................................................................
1470
Chapter 142. Fungi    ...................................................................................................................................................................
1493
Chapter 143. Approach to Parasitic Infections    .............................................................................................................
1496
Chapter 144. Nematodes (Roundworms)    .......................................................................................................................
ajayvmahajan@gmail.com
FZ98U1SOXE
This file is meant for personal use by ajayvmahajan@gmail.com only.
Sharing or publishing the contents in part or full is liable for legal action.</code></pre>
</div>
</div>
</section>
<section id="checking-the-number-of-pages" class="level4">
<h4 class="anchored" data-anchor-id="checking-the-number-of-pages">Checking the number of pages</h4>
<div id="cell-50" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}}" data-outputid="318b289c-28c2-4d1c-9e23-37c52e93d83d" data-execution_count="332">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(manual)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="332">
<pre><code>4114</code></pre>
</div>
</div>
</section>
</section>
<section id="data-chunking" class="level3">
<h3 class="anchored" data-anchor-id="data-chunking">Data Chunking</h3>
<div id="cell-52" class="cell" data-execution_count="333">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>text_splitter <span class="op">=</span> RecursiveCharacterTextSplitter.from_tiktoken_encoder(</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>    encoding_name<span class="op">=</span><span class="st">'cl100k_base'</span>,</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>    chunk_size<span class="op">=</span><span class="dv">512</span>,</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>    chunk_overlap<span class="op">=</span> <span class="dv">20</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-53" class="cell" data-execution_count="334">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>document_chunks <span class="op">=</span> pdf_loader.load_and_split(text_splitter)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-54" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}}" data-outputid="14fbce3b-4ca3-4a4c-b79d-a925fea3e4f8" data-execution_count="335">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(document_chunks)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="335">
<pre><code>8469</code></pre>
</div>
</div>
<div id="cell-55" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:157}}" data-outputid="a6b5c3cd-df26-4037-d697-a6da609fae74" data-execution_count="336">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>document_chunks[<span class="dv">5000</span>].page_content</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="336">
<pre><code>'excessive analgesia and sedation.\n[Table 222-8. Some Causes of Agitation or Confusion in Critical Care Patients]\nPast medical history is reviewed for potential causes. Underlying liver disease suggests possible hepatic\nencephalopathy. Known substance dependency or abuse suggests a withdrawal syndrome.\nAwake, coherent patients are asked what is troubling them and are questioned specifically about pain,\ndyspnea, and previously unreported substance dependency.\nPhysical examination: O2 saturation &lt; 90% suggests a hypoxic etiology. Low BP and urine output\nsuggest CNS hypoperfusion. Fever and tachycardia suggest sepsis or delirium tremens. Neck stiffness\nsuggests meningitis, although this finding may be difficult to demonstrate in an agitated patient. Focal\nfindings on neurologic examination suggest stroke, hemorrhage, or increased intracranial pressure (ICP).\nThe degree of agitation can be quantified using a scale such as the Riker Sedation-Agitation Scale (see\nTable 222-9) or the Ramsay Sedation Scale. Use of such scales allows better consistency between\nobservers and the identification of trends. Patients who are under neuromuscular blockade are difficult to\nThe Merck Manual of Diagnosis &amp; Therapy, 19th Edition\nChapter 222. Approach to the Critically Ill Patient\n2399\najayvmahajan@gmail.com\nFZ98U1SOXE\nThis file is meant for personal use by ajayvmahajan@gmail.com only.\nSharing or publishing the contents in part or full is liable for legal action.'</code></pre>
</div>
</div>
<div id="cell-56" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:157}}" data-outputid="d20d3b9d-843f-4eed-acd6-e4b95500fa76" data-execution_count="337">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>document_chunks[<span class="dv">5001</span>].page_content</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="337">
<pre><code>'evaluate because they may be highly agitated and uncomfortable despite appearing motionless. It is\ntypically necessary to allow paralysis to wear off periodically (eg, daily) so that the patient can be\nassessed.\nTesting: Identified abnormalities (eg, hypoxia, hypotension, fever) should be clarified further with\nappropriate testing. Head CT need not routinely be done unless focal neurologic findings are present or\nno other etiology is found. A bispectral index (BIS) monitor may be helpful in determining the level of\nsedation/agitation of patients under neuromuscular blockade.\nTreatment\nUnderlying conditions (eg, hypoxia, shock, drugs) should be addressed. The environment should be\noptimized (eg, darkness, quiet, and minimal sleep interruption at night) as much as is compatible with\nmedical care. Clocks, calendars, outside windows, and TV or radio programs also help connect the\npatient with the world, lessening confusion. Family presence and consistent nursing personnel may be\ncalming.\nDrug treatment is dictated by the most vexing symptoms. Pain is treated with analgesics; anxiety and\ninsomnia are treated with sedatives; and psychosis and delirium are treated with small doses of an\nantipsychotic drug. Intubation may be needed when sedative and analgesic requirements are high\nenough to jeopardize the airway or respiratory drive. Many drugs are available; generally, short-acting\ndrugs are preferred for patients who need frequent neurologic examination or who are being weaned to\nextubation.\nAnalgesia: Pain should be treated with appropriate doses of IV opioids; conscious patients with painful\nconditions (eg, fractures, surgical incisions) who are unable to communicate should be assumed to have\npain and receive analgesics accordingly. Mechanical ventilation is somewhat uncomfortable, and patients\ngenerally should receive a combination of opioid and amnestic sedative drugs. Fentanyl is the opioid of\nchoice because of its potency, short duration of action, and minimal cardiovascular effects. A common\nregimen can be 30 to 100 μg/h of fentanyl; individual requirements are highly variable.\nSedation: Despite analgesia, many patients remain sufficiently agitated as to require sedation. A\nsedative can also provide\n[Table 222-9. Riker Sedation-Agitation Scale]'</code></pre>
</div>
</div>
<div id="cell-57" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:157}}" data-outputid="3359412a-5a20-429f-b75c-c45248e4c469" data-execution_count="338">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>document_chunks[<span class="dv">5002</span>].page_content</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="338">
<pre><code>'[Table 222-9. Riker Sedation-Agitation Scale]\npatient comfort at a lower dose of analgesic. Benzodiazepines (eg, lorazepam, midazolam) are most\ncommon, but propofol, a sedative-hypnotic drug, may be used. A common regimen for sedation is\nlorazepam 1 to 2 mg IV q 1 to 2 h or a continuous infusion at 1 to 2 mg/h if the patient is intubated. These\ndrugs pose risks of respiratory depression, hypotension, delirium, and prolonged physiologic effects in\nsome patients. Long-acting benzodiazepines such as diazepam, flurazepam, and chlordiazepoxide should\nbe avoided in the elderly. Antipsychotics with less anticholinergic effect, such as haloperidol 1 to 3 mg IV,\nmay work best when combined with benzodiazepines.\nNeuromuscular blockade: For intubated patients, neuromuscular blockade is not a substitute for\nsedation; it only removes visible manifestations of the problem (agitation) without correcting it. However,\nneuromuscular blockade may be required during tests (eg CT, MRI) or procedures (eg, central line\nplacement) that require patients to be motionless or in patients who cannot be ventilated despite\nadequate analgesia and sedation. Prolonged neuromuscular blockade should be avoided unless patients\nhave severe lung injury and cannot do the work of breathing safely. Use for &gt; 1 to 2 days may lead to\nprolonged weakness, particularly when corticosteroids are concomitantly given. Common regimens\ninclude vecuronium (continuous infusion as directed by stimulation).\nThe Merck Manual of Diagnosis &amp; Therapy, 19th Edition\nChapter 222. Approach to the Critically Ill Patient\n2400\najayvmahajan@gmail.com\nFZ98U1SOXE\nThis file is meant for personal use by ajayvmahajan@gmail.com only.\nSharing or publishing the contents in part or full is liable for legal action.'</code></pre>
</div>
</div>
<div id="cell-58" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:157}}" data-outputid="ab6a6795-f31e-4281-e62f-a06675eea10d" data-execution_count="339">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>document_chunks[<span class="dv">5003</span>].page_content</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="339">
<pre><code>'Chapter 223. Cardiac Arrest\nIntroduction\nCardiac arrest is the terminal event in any fatal disorder. It may also occur suddenly (defined as within 24\nh of onset of symptoms in a previously functioning person) and, as such, occurs outside the hospital in\nabout 400,000 people/yr in the US, with a 90% mortality.\nRespiratory arrest and cardiac arrest are distinct, but without treatment, one inevitably leads to the other.\n(See also respiratory failure in Ch. 225, dyspnea on p. 1832, and hypoxia on p. 2250.)\nEtiology\nIn adults, sudden cardiac arrest results primarily from cardiac disease (of all types, but especially\ncoronary artery disease). In a significant percentage of patients, sudden cardiac arrest is the first\nmanifestation of heart disease. Other causes include circulatory shock due to noncardiac disorders\n(especially pulmonary embolism, GI hemorrhage, or trauma), ventilatory failure, and metabolic disturbance\n(including drug overdose).\nIn children, cardiac causes of sudden cardiac arrest are much less common (&lt; 15 to 20%). Instead,\npredominant causes include trauma, poisoning, and various respiratory disorders (eg, airway obstruction,\nsmoke inhalation, drowning, infection, sudden infant death syndrome).\nPathophysiology\nCardiac arrest causes global ischemia with consequences at the cellular level that adversely affect organ\nfunction after resuscitation. The main consequences involve direct cellular damage and edema formation.\nEdema is particularly harmful in the brain, which has minimal room to expand, and often results in\nincreased intracranial pressure and corresponding decreased cerebral perfusion postresuscitation. A\nsignificant proportion of successfully resuscitated patients have short-term or long-term cerebral\ndysfunction manifested by altered alertness (from mild confusion to coma), seizures, or both.\nDecreased ATP production leads to loss of membrane integrity with efflux of K and influx of Na and Ca.\nExcess Na causes cellular edema. Excess Ca damages mitochondria (depressing ATP production),\nincreases nitric oxide production (leading to formation of damaging free radicals), and, in certain\ncircumstances, activates proteases that further damage cells.\nAbnormal ion flux also results in depolarization of neurons, releasing neurotransmitters, some of which'</code></pre>
</div>
</div>
</section>
<section id="embedding" class="level3">
<h3 class="anchored" data-anchor-id="embedding">Embedding</h3>
<div id="cell-60" class="cell" data-execution_count="340">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>embedding_model <span class="op">=</span> SentenceTransformerEmbeddings(model_name<span class="op">=</span><span class="st">'thenlper/gte-large'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-61" class="cell" data-execution_count="341">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>embedding_1 <span class="op">=</span> embedding_model.embed_query(document_chunks[<span class="dv">0</span>].page_content)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>embedding_2 <span class="op">=</span> embedding_model.embed_query(document_chunks[<span class="dv">1</span>].page_content)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-62" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}}" data-outputid="632f8eef-302b-4959-e6f6-f8deb2bf5553" data-execution_count="342">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Dimension of the embedding vector "</span>,<span class="bu">len</span>(embedding_1))</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(embedding_1)<span class="op">==</span><span class="bu">len</span>(embedding_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Dimension of the embedding vector  1024</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="342">
<pre><code>True</code></pre>
</div>
</div>
</section>
<section id="vector-database" class="level3">
<h3 class="anchored" data-anchor-id="vector-database">Vector Database</h3>
<div id="cell-64" class="cell" data-execution_count="343">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>out_dir <span class="op">=</span> <span class="st">'medical_db'</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="kw">not</span> os.path.exists(out_dir):</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>    os.makedirs(out_dir)</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>vectorstore <span class="op">=</span> Chroma.from_documents(</span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>    documents<span class="op">=</span>document_chunks,</span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>    embedding<span class="op">=</span>embedding_model,</span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>    persist_directory<span class="op">=</span>out_dir</span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-65" class="cell" data-execution_count="344">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>vectorstore <span class="op">=</span> Chroma(</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>    embedding_function<span class="op">=</span>embedding_model,</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>    persist_directory<span class="op">=</span>out_dir</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-66" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}}" data-outputid="40c79140-70ee-4574-f40a-a74adc3ed3ed" data-execution_count="345">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>vectorstore.embeddings</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="345">
<pre><code>HuggingFaceEmbeddings(client=SentenceTransformer(
  (0): Transformer({'max_seq_length': 512, 'do_lower_case': False}) with Transformer model: BertModel 
  (1): Pooling({'word_embedding_dimension': 1024, 'pooling_mode_cls_token': False, 'pooling_mode_mean_tokens': True, 'pooling_mode_max_tokens': False, 'pooling_mode_mean_sqrt_len_tokens': False, 'pooling_mode_weightedmean_tokens': False, 'pooling_mode_lasttoken': False, 'include_prompt': True})
  (2): Normalize()
), model_name='thenlper/gte-large', cache_folder=None, model_kwargs={}, encode_kwargs={}, multi_process=False, show_progress=False)</code></pre>
</div>
</div>
<div id="cell-67" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}}" data-outputid="ece36643-ec9c-471f-a9db-7643f0e5690d" data-execution_count="346">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>vectorstore.similarity_search(<span class="st">"symptoms appendicitis?"</span>,k<span class="op">=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="346">
<pre><code>[Document(metadata={'creationDate': 'D:20120615054440Z', 'trapped': '', 'keywords': '', 'creationdate': '2012-06-15T05:44:40+00:00', 'file_path': '/content/drive/MyDrive/medical_diagnosis_manual.pdf', 'moddate': '2025-05-28T15:49:29+00:00', 'format': 'PDF 1.7', 'title': 'The Merck Manual of Diagnosis &amp; Therapy, 19th Edition', 'modDate': 'D:20250528154929Z', 'author': '', 'subject': '', 'producer': 'pdf-lib (https://github.com/Hopding/pdf-lib)', 'page': 173, 'total_pages': 4114, 'creator': 'Atop CHM to PDF Converter', 'source': '/content/drive/MyDrive/medical_diagnosis_manual.pdf'}, page_content="Etiology\nAppendicitis is thought to result from obstruction of the appendiceal lumen, typically by lymphoid\nhyperplasia, but occasionally by a fecalith, foreign body, or even worms. The obstruction leads to\ndistention, bacterial overgrowth, ischemia, and inflammation. If untreated, necrosis, gangrene, and\nperforation occur. If the perforation is contained by the omentum, an appendiceal abscess results.\nSymptoms and Signs\nThe classic symptoms of acute appendicitis are epigastric or periumbilical pain followed by brief nausea,\nvomiting, and anorexia; after a few hours, the pain shifts to the right lower quadrant. Pain increases with\ncough and motion. Classic signs are right lower quadrant direct and rebound tenderness located at\nMcBurney's point (junction of the middle and outer thirds of the line joining the umbilicus to the anterior\nsuperior spine). Additional signs are pain felt in the right lower quadrant with palpation of the left lower\nquadrant (Rovsing sign), an increase in pain from passive extension of the right hip joint that stretches\nthe iliopsoas muscle (psoas sign), or pain caused by passive internal rotation of the flexed thigh\n(obturator sign). Low-grade fever (rectal temperature 37.7 to 38.3° C [100 to 101° F]) is common.\nUnfortunately, these classic findings appear in &lt; 50% of patients. Many variations of symptoms and signs\noccur. Pain may not be localized, particularly in infants and children. Tenderness may be diffuse or, in rare\ninstances, absent. Bowel movements are usually less frequent or absent; if diarrhea is a sign, a\nretrocecal appendix should be suspected. RBCs or WBCs may be present in the urine. Atypical symptoms\nare common among elderly patients and pregnant women; in particular, pain is less severe and local\ntenderness is less marked.\nDiagnosis\n• Clinical evaluation\n• Abdominal CT if necessary\n• Ultrasound an option to CT\nWhen classic symptoms and signs are present, the diagnosis is clinical. In such patients, delaying\nlaparotomy to do imaging tests only increases the likelihood of perforation and subsequent complications.\nIn patients with atypical or equivocal findings, imaging studies should be done without delay. Contrast-"),
 Document(metadata={'title': 'The Merck Manual of Diagnosis &amp; Therapy, 19th Edition', 'page': 173, 'file_path': '/content/drive/MyDrive/medical_diagnosis_manual.pdf', 'creator': 'Atop CHM to PDF Converter', 'modDate': 'D:20250528154929Z', 'keywords': '', 'moddate': '2025-05-28T15:49:29+00:00', 'creationdate': '2012-06-15T05:44:40+00:00', 'subject': '', 'total_pages': 4114, 'producer': 'pdf-lib (https://github.com/Hopding/pdf-lib)', 'author': '', 'source': '/content/drive/MyDrive/medical_diagnosis_manual.pdf', 'creationDate': 'D:20120615054440Z', 'trapped': '', 'format': 'PDF 1.7'}, page_content="Etiology\nAppendicitis is thought to result from obstruction of the appendiceal lumen, typically by lymphoid\nhyperplasia, but occasionally by a fecalith, foreign body, or even worms. The obstruction leads to\ndistention, bacterial overgrowth, ischemia, and inflammation. If untreated, necrosis, gangrene, and\nperforation occur. If the perforation is contained by the omentum, an appendiceal abscess results.\nSymptoms and Signs\nThe classic symptoms of acute appendicitis are epigastric or periumbilical pain followed by brief nausea,\nvomiting, and anorexia; after a few hours, the pain shifts to the right lower quadrant. Pain increases with\ncough and motion. Classic signs are right lower quadrant direct and rebound tenderness located at\nMcBurney's point (junction of the middle and outer thirds of the line joining the umbilicus to the anterior\nsuperior spine). Additional signs are pain felt in the right lower quadrant with palpation of the left lower\nquadrant (Rovsing sign), an increase in pain from passive extension of the right hip joint that stretches\nthe iliopsoas muscle (psoas sign), or pain caused by passive internal rotation of the flexed thigh\n(obturator sign). Low-grade fever (rectal temperature 37.7 to 38.3° C [100 to 101° F]) is common.\nUnfortunately, these classic findings appear in &lt; 50% of patients. Many variations of symptoms and signs\noccur. Pain may not be localized, particularly in infants and children. Tenderness may be diffuse or, in rare\ninstances, absent. Bowel movements are usually less frequent or absent; if diarrhea is a sign, a\nretrocecal appendix should be suspected. RBCs or WBCs may be present in the urine. Atypical symptoms\nare common among elderly patients and pregnant women; in particular, pain is less severe and local\ntenderness is less marked.\nDiagnosis\n• Clinical evaluation\n• Abdominal CT if necessary\n• Ultrasound an option to CT\nWhen classic symptoms and signs are present, the diagnosis is clinical. In such patients, delaying\nlaparotomy to do imaging tests only increases the likelihood of perforation and subsequent complications.\nIn patients with atypical or equivocal findings, imaging studies should be done without delay. Contrast-"),
 Document(metadata={'format': 'PDF 1.7', 'producer': 'pdf-lib (https://github.com/Hopding/pdf-lib)', 'title': 'The Merck Manual of Diagnosis &amp; Therapy, 19th Edition', 'page': 173, 'modDate': 'D:20250528154929Z', 'subject': '', 'trapped': '', 'creationdate': '2012-06-15T05:44:40+00:00', 'total_pages': 4114, 'source': '/content/drive/MyDrive/medical_diagnosis_manual.pdf', 'author': '', 'creator': 'Atop CHM to PDF Converter', 'moddate': '2025-05-28T15:49:29+00:00', 'keywords': '', 'creationDate': 'D:20120615054440Z', 'file_path': '/content/drive/MyDrive/medical_diagnosis_manual.pdf'}, page_content="Etiology\nAppendicitis is thought to result from obstruction of the appendiceal lumen, typically by lymphoid\nhyperplasia, but occasionally by a fecalith, foreign body, or even worms. The obstruction leads to\ndistention, bacterial overgrowth, ischemia, and inflammation. If untreated, necrosis, gangrene, and\nperforation occur. If the perforation is contained by the omentum, an appendiceal abscess results.\nSymptoms and Signs\nThe classic symptoms of acute appendicitis are epigastric or periumbilical pain followed by brief nausea,\nvomiting, and anorexia; after a few hours, the pain shifts to the right lower quadrant. Pain increases with\ncough and motion. Classic signs are right lower quadrant direct and rebound tenderness located at\nMcBurney's point (junction of the middle and outer thirds of the line joining the umbilicus to the anterior\nsuperior spine). Additional signs are pain felt in the right lower quadrant with palpation of the left lower\nquadrant (Rovsing sign), an increase in pain from passive extension of the right hip joint that stretches\nthe iliopsoas muscle (psoas sign), or pain caused by passive internal rotation of the flexed thigh\n(obturator sign). Low-grade fever (rectal temperature 37.7 to 38.3° C [100 to 101° F]) is common.\nUnfortunately, these classic findings appear in &lt; 50% of patients. Many variations of symptoms and signs\noccur. Pain may not be localized, particularly in infants and children. Tenderness may be diffuse or, in rare\ninstances, absent. Bowel movements are usually less frequent or absent; if diarrhea is a sign, a\nretrocecal appendix should be suspected. RBCs or WBCs may be present in the urine. Atypical symptoms\nare common among elderly patients and pregnant women; in particular, pain is less severe and local\ntenderness is less marked.\nDiagnosis\n• Clinical evaluation\n• Abdominal CT if necessary\n• Ultrasound an option to CT\nWhen classic symptoms and signs are present, the diagnosis is clinical. In such patients, delaying\nlaparotomy to do imaging tests only increases the likelihood of perforation and subsequent complications.\nIn patients with atypical or equivocal findings, imaging studies should be done without delay. Contrast-")]</code></pre>
</div>
</div>
</section>
<section id="retriever" class="level3">
<h3 class="anchored" data-anchor-id="retriever">Retriever</h3>
<div id="cell-69" class="cell" data-execution_count="347">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>retriever <span class="op">=</span> vectorstore.as_retriever(</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>    search_type<span class="op">=</span><span class="st">'similarity'</span>,</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>    search_kwargs<span class="op">=</span>{<span class="st">'k'</span>: <span class="dv">2</span>} <span class="co">#Complete the code to pass an appropriate k value</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-70" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}}" data-outputid="7da6687c-6241-4cab-ed84-a81e8b0cff34" data-execution_count="348">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>rel_docs <span class="op">=</span> retriever.get_relevant_documents(query<span class="op">=</span><span class="st">'what are the symptoms appendicitis?'</span>)</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>rel_docs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="348">
<pre><code>[Document(metadata={'creationdate': '2012-06-15T05:44:40+00:00', 'subject': '', 'creationDate': 'D:20120615054440Z', 'file_path': '/content/drive/MyDrive/medical_diagnosis_manual.pdf', 'creator': 'Atop CHM to PDF Converter', 'author': '', 'title': 'The Merck Manual of Diagnosis &amp; Therapy, 19th Edition', 'moddate': '2025-05-28T15:49:29+00:00', 'format': 'PDF 1.7', 'page': 173, 'producer': 'pdf-lib (https://github.com/Hopding/pdf-lib)', 'trapped': '', 'keywords': '', 'source': '/content/drive/MyDrive/medical_diagnosis_manual.pdf', 'modDate': 'D:20250528154929Z', 'total_pages': 4114}, page_content="Etiology\nAppendicitis is thought to result from obstruction of the appendiceal lumen, typically by lymphoid\nhyperplasia, but occasionally by a fecalith, foreign body, or even worms. The obstruction leads to\ndistention, bacterial overgrowth, ischemia, and inflammation. If untreated, necrosis, gangrene, and\nperforation occur. If the perforation is contained by the omentum, an appendiceal abscess results.\nSymptoms and Signs\nThe classic symptoms of acute appendicitis are epigastric or periumbilical pain followed by brief nausea,\nvomiting, and anorexia; after a few hours, the pain shifts to the right lower quadrant. Pain increases with\ncough and motion. Classic signs are right lower quadrant direct and rebound tenderness located at\nMcBurney's point (junction of the middle and outer thirds of the line joining the umbilicus to the anterior\nsuperior spine). Additional signs are pain felt in the right lower quadrant with palpation of the left lower\nquadrant (Rovsing sign), an increase in pain from passive extension of the right hip joint that stretches\nthe iliopsoas muscle (psoas sign), or pain caused by passive internal rotation of the flexed thigh\n(obturator sign). Low-grade fever (rectal temperature 37.7 to 38.3° C [100 to 101° F]) is common.\nUnfortunately, these classic findings appear in &lt; 50% of patients. Many variations of symptoms and signs\noccur. Pain may not be localized, particularly in infants and children. Tenderness may be diffuse or, in rare\ninstances, absent. Bowel movements are usually less frequent or absent; if diarrhea is a sign, a\nretrocecal appendix should be suspected. RBCs or WBCs may be present in the urine. Atypical symptoms\nare common among elderly patients and pregnant women; in particular, pain is less severe and local\ntenderness is less marked.\nDiagnosis\n• Clinical evaluation\n• Abdominal CT if necessary\n• Ultrasound an option to CT\nWhen classic symptoms and signs are present, the diagnosis is clinical. In such patients, delaying\nlaparotomy to do imaging tests only increases the likelihood of perforation and subsequent complications.\nIn patients with atypical or equivocal findings, imaging studies should be done without delay. Contrast-"),
 Document(metadata={'page': 173, 'creator': 'Atop CHM to PDF Converter', 'author': '', 'total_pages': 4114, 'source': '/content/drive/MyDrive/medical_diagnosis_manual.pdf', 'trapped': '', 'format': 'PDF 1.7', 'keywords': '', 'file_path': '/content/drive/MyDrive/medical_diagnosis_manual.pdf', 'creationdate': '2012-06-15T05:44:40+00:00', 'moddate': '2025-05-28T15:49:29+00:00', 'title': 'The Merck Manual of Diagnosis &amp; Therapy, 19th Edition', 'producer': 'pdf-lib (https://github.com/Hopding/pdf-lib)', 'subject': '', 'creationDate': 'D:20120615054440Z', 'modDate': 'D:20250528154929Z'}, page_content="Etiology\nAppendicitis is thought to result from obstruction of the appendiceal lumen, typically by lymphoid\nhyperplasia, but occasionally by a fecalith, foreign body, or even worms. The obstruction leads to\ndistention, bacterial overgrowth, ischemia, and inflammation. If untreated, necrosis, gangrene, and\nperforation occur. If the perforation is contained by the omentum, an appendiceal abscess results.\nSymptoms and Signs\nThe classic symptoms of acute appendicitis are epigastric or periumbilical pain followed by brief nausea,\nvomiting, and anorexia; after a few hours, the pain shifts to the right lower quadrant. Pain increases with\ncough and motion. Classic signs are right lower quadrant direct and rebound tenderness located at\nMcBurney's point (junction of the middle and outer thirds of the line joining the umbilicus to the anterior\nsuperior spine). Additional signs are pain felt in the right lower quadrant with palpation of the left lower\nquadrant (Rovsing sign), an increase in pain from passive extension of the right hip joint that stretches\nthe iliopsoas muscle (psoas sign), or pain caused by passive internal rotation of the flexed thigh\n(obturator sign). Low-grade fever (rectal temperature 37.7 to 38.3° C [100 to 101° F]) is common.\nUnfortunately, these classic findings appear in &lt; 50% of patients. Many variations of symptoms and signs\noccur. Pain may not be localized, particularly in infants and children. Tenderness may be diffuse or, in rare\ninstances, absent. Bowel movements are usually less frequent or absent; if diarrhea is a sign, a\nretrocecal appendix should be suspected. RBCs or WBCs may be present in the urine. Atypical symptoms\nare common among elderly patients and pregnant women; in particular, pain is less severe and local\ntenderness is less marked.\nDiagnosis\n• Clinical evaluation\n• Abdominal CT if necessary\n• Ultrasound an option to CT\nWhen classic symptoms and signs are present, the diagnosis is clinical. In such patients, delaying\nlaparotomy to do imaging tests only increases the likelihood of perforation and subsequent complications.\nIn patients with atypical or equivocal findings, imaging studies should be done without delay. Contrast-")]</code></pre>
</div>
</div>
<p>The above response is somewhat generic and is solely based on the data the model was trained on, rather than the medical manual.</p>
<p>Let’s now provide our own context.</p>
</section>
<section id="system-and-user-prompt-template" class="level3">
<h3 class="anchored" data-anchor-id="system-and-user-prompt-template">System and User Prompt Template</h3>
<p>Prompts guide the model to generate accurate responses. Here, we define two parts:</p>
<ol type="1">
<li>The system message describing the assistant’s role.</li>
<li>A user message template including context and the question.</li>
</ol>
<div id="cell-74" class="cell" data-execution_count="349">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>qna_system_message <span class="op">=</span> <span class="st">"""You are a knowledgeable clinical assistant. Based only on the provided context, answer the medical question clearly and accurately.</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="st">Use the following rules:</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="st">- Structure your answer with **bold headings** and bullet points</span></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="st">- Use short, clinical language suitable for physicians or informed patients</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a><span class="st">- Do not include information not found in the context</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a><span class="st">- If the context is insufficient to answer, say so explicitly</span></span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-75" class="cell" data-execution_count="350">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>qna_user_message_template <span class="op">=</span> <span class="st">"""Context:</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="sc">{context}</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a><span class="st">Question:</span></span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a><span class="sc">{question}</span></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a><span class="st">Instructions:</span></span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a><span class="st">Answer the question using only the above context. Do not make up facts. Format your answer with bullet points and bold section titles where appropriate.</span></span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="response-function" class="level3">
<h3 class="anchored" data-anchor-id="response-function">Response Function</h3>
<div id="cell-77" class="cell" data-execution_count="351">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> Markdown, display</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> display_markdown_response(text):</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">isinstance</span>(text, <span class="bu">bytes</span>):</span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>        text <span class="op">=</span> text.decode(<span class="st">"utf-8"</span>, errors<span class="op">=</span><span class="st">"replace"</span>)</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>        text <span class="op">=</span> text.encode(<span class="st">'latin1'</span>, errors<span class="op">=</span><span class="st">'ignore'</span>).decode(<span class="st">'utf-8'</span>, errors<span class="op">=</span><span class="st">'ignore'</span>)</span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Decode escape sequences</span></span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a>    cleaned_text <span class="op">=</span> text.encode().decode(<span class="st">"unicode_escape"</span>).strip()</span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Fix common bad encodings</span></span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a>    replacements <span class="op">=</span> {</span>
<span id="cb71-14"><a href="#cb71-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">"â¢"</span>: <span class="st">"•"</span>,</span>
<span id="cb71-15"><a href="#cb71-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">"â"</span>: <span class="st">"-"</span>,</span>
<span id="cb71-16"><a href="#cb71-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">"â"</span>: <span class="st">"—"</span>,</span>
<span id="cb71-17"><a href="#cb71-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">"â"</span>: <span class="st">"'"</span>,</span>
<span id="cb71-18"><a href="#cb71-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">"â"</span>: <span class="st">'"'</span>,</span>
<span id="cb71-19"><a href="#cb71-19" aria-hidden="true" tabindex="-1"></a>        <span class="st">"â"</span>: <span class="st">'"'</span>,</span>
<span id="cb71-20"><a href="#cb71-20" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Bold Section Titles:"</span>: <span class="st">""</span>,</span>
<span id="cb71-21"><a href="#cb71-21" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Bullet Points:"</span>: <span class="st">""</span></span>
<span id="cb71-22"><a href="#cb71-22" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb71-23"><a href="#cb71-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> bad, good <span class="kw">in</span> replacements.items():</span>
<span id="cb71-24"><a href="#cb71-24" aria-hidden="true" tabindex="-1"></a>        cleaned_text <span class="op">=</span> cleaned_text.replace(bad, good)</span>
<span id="cb71-25"><a href="#cb71-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-26"><a href="#cb71-26" aria-hidden="true" tabindex="-1"></a>    display(Markdown(cleaned_text))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-78" class="cell" data-execution_count="352">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> generate_rag_response(user_input,k<span class="op">=</span><span class="dv">3</span>,max_tokens<span class="op">=</span><span class="dv">512</span>,temperature<span class="op">=</span><span class="dv">0</span>,top_p<span class="op">=</span><span class="fl">0.95</span>,top_k<span class="op">=</span><span class="dv">50</span>):</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">global</span> qna_system_message,qna_user_message_template</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Retrieve relevant document chunks</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>    relevant_document_chunks <span class="op">=</span> retriever.get_relevant_documents(query<span class="op">=</span>user_input,k<span class="op">=</span>k)</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>    context_list <span class="op">=</span> [d.page_content <span class="cf">for</span> d <span class="kw">in</span> relevant_document_chunks]</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Combine document chunks into a single context</span></span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>    context_for_query <span class="op">=</span> <span class="st">". "</span>.join(context_list)</span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>    user_message <span class="op">=</span> qna_user_message_template.replace(<span class="st">'</span><span class="sc">{context}</span><span class="st">'</span>, context_for_query)</span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>    user_message <span class="op">=</span> user_message.replace(<span class="st">'</span><span class="sc">{question}</span><span class="st">'</span>, user_input)</span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a>    prompt <span class="op">=</span> <span class="ss">f"""[INST]</span></span>
<span id="cb72-14"><a href="#cb72-14" aria-hidden="true" tabindex="-1"></a><span class="ss">    </span><span class="sc">{</span>qna_system_message<span class="sc">}</span></span>
<span id="cb72-15"><a href="#cb72-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-16"><a href="#cb72-16" aria-hidden="true" tabindex="-1"></a><span class="ss">    </span><span class="sc">{</span>qna_user_message_template<span class="sc">.</span><span class="bu">format</span>(context<span class="op">=</span>context_for_query, question<span class="op">=</span>user_input)<span class="sc">}</span></span>
<span id="cb72-17"><a href="#cb72-17" aria-hidden="true" tabindex="-1"></a><span class="ss">    [/INST]"""</span></span>
<span id="cb72-18"><a href="#cb72-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-19"><a href="#cb72-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># prompt = qna_system_message + '\n' + user_message</span></span>
<span id="cb72-20"><a href="#cb72-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-21"><a href="#cb72-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Generate the response</span></span>
<span id="cb72-22"><a href="#cb72-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb72-23"><a href="#cb72-23" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> llm(</span>
<span id="cb72-24"><a href="#cb72-24" aria-hidden="true" tabindex="-1"></a>                  prompt<span class="op">=</span>prompt,</span>
<span id="cb72-25"><a href="#cb72-25" aria-hidden="true" tabindex="-1"></a>                  max_tokens<span class="op">=</span>max_tokens,</span>
<span id="cb72-26"><a href="#cb72-26" aria-hidden="true" tabindex="-1"></a>                  temperature<span class="op">=</span>temperature,</span>
<span id="cb72-27"><a href="#cb72-27" aria-hidden="true" tabindex="-1"></a>                  top_p<span class="op">=</span>top_p,</span>
<span id="cb72-28"><a href="#cb72-28" aria-hidden="true" tabindex="-1"></a>                  top_k<span class="op">=</span>top_k</span>
<span id="cb72-29"><a href="#cb72-29" aria-hidden="true" tabindex="-1"></a>                  )</span>
<span id="cb72-30"><a href="#cb72-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-31"><a href="#cb72-31" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Extract and print the model's response</span></span>
<span id="cb72-32"><a href="#cb72-32" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> response[<span class="st">'choices'</span>][<span class="dv">0</span>][<span class="st">'text'</span>].strip()</span>
<span id="cb72-33"><a href="#cb72-33" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb72-34"><a href="#cb72-34" aria-hidden="true" tabindex="-1"></a>        response <span class="op">=</span> <span class="ss">f'Sorry, I encountered the following error: </span><span class="ch">\n</span><span class="ss"> </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">'</span></span>
<span id="cb72-35"><a href="#cb72-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-36"><a href="#cb72-36" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> response</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="question-answering-using-rag" class="level2">
<h2 class="anchored" data-anchor-id="question-answering-using-rag">Question Answering using RAG</h2>
<section id="query-1-what-is-the-protocol-for-managing-sepsis-in-a-critical-care-unit-2" class="level3">
<h3 class="anchored" data-anchor-id="query-1-what-is-the-protocol-for-managing-sepsis-in-a-critical-care-unit-2">Query 1: What is the protocol for managing sepsis in a critical care unit?</h3>
<div id="cell-81" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:680}}" data-outputid="913f7523-0f34-412a-a632-31098ad41fd8" data-execution_count="353">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>user_input <span class="op">=</span> <span class="st">"What is the protocol for managing sepsis in a critical care unit?"</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> generate_rag_response(user_input, max_tokens<span class="op">=</span><span class="dv">512</span>)</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>display_markdown_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     327.26 ms /   506 runs   (    0.65 ms per token,  1546.15 tokens per second)
llama_print_timings: prompt eval time =    2287.01 ms /  1877 tokens (    1.22 ms per token,   820.72 tokens per second)
llama_print_timings:        eval time =   17933.99 ms /   505 runs   (   35.51 ms per token,    28.16 tokens per second)
llama_print_timings:       total time =   21148.69 ms /  2382 tokens</code></pre>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p><strong>Sepsis Management Protocol in Critical Care Units</strong></p>
<ul>
<li><strong>Frequent Monitoring</strong>:
<ul>
<li>Systemic pressure; CVP, PAOP, or both</li>
<li>Pulse oximetry</li>
<li>ABGs; blood glucose, lactate, and electrolyte levels</li>
<li>Renal function, and possibly sublingual PCO2</li>
<li>Urine output, a good indicator of renal perfusion</li>
</ul></li>
<li><strong>Fluid Resuscitation</strong>:
<ul>
<li>0.9% saline until CVP reaches 8 mm Hg (10 cm H2O) or PAOP reaches 12 to 15 mm Hg</li>
<li>Oliguria with hypotension is not a contraindication to vigorous fluid resuscitation</li>
<li>Quantity of fluid required often far exceeds the normal blood volume and may reach 10 L over 4 to 12 h</li>
</ul></li>
<li><strong>Dopamine Therapy</strong>:
<ul>
<li>If a patient with septic shock remains hypotensive after CVP or PAOP has been raised to target levels, dopamine may be given to increase mean BP to at least 60 mm Hg</li>
<li>However, vasoconstriction caused by higher doses of dopamine and norepinephrine poses risks of organ hypoperfusion and acidosis</li>
</ul></li>
<li><strong>Oxygen Therapy</strong>:
<ul>
<li>O2 is given by mask or nasal prongs</li>
<li>Tracheal intubation and mechanical ventilation may be needed subsequently for respiratory failure</li>
</ul></li>
<li><strong>Supportive Care</strong>:
<ul>
<li>Provision of adequate nutrition (see p.&nbsp;21)</li>
<li>Prevention of infection, stress ulcers, and gastritis (see p.&nbsp;131)</li>
<li>Pulmonary embolism prevention (see p.&nbsp;1920)</li>
</ul></li>
<li><strong>Blood Tests</strong>:
<ul>
<li>Routine daily blood tests to help detect problems early, including electrolytes and CBC</li>
<li>Additional tests as needed, such as blood culture for fever, CBC after a bleeding episode</li>
</ul></li>
</ul>
<p>Note: The above protocol is based on the provided context and should not be considered a comprehensive or substitute for professional medical advice.</p>
</div>
</div>
</section>
<section id="query-2-what-are-the-common-symptoms-for-appendicitis-and-can-it-be-cured-via-medicine-if-not-what-surgical-procedure-should-be-followed-to-treat-it-2" class="level3">
<h3 class="anchored" data-anchor-id="query-2-what-are-the-common-symptoms-for-appendicitis-and-can-it-be-cured-via-medicine-if-not-what-surgical-procedure-should-be-followed-to-treat-it-2">Query 2: What are the common symptoms for appendicitis, and can it be cured via medicine? If not, what surgical procedure should be followed to treat it?</h3>
<div id="cell-83" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:511}}" data-outputid="99e9e53a-7f39-40b8-830d-5404bf201558" data-execution_count="354">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>user_input <span class="op">=</span> <span class="st">"What are the common symptoms for appendicitis, and can it be cured via medicine? If not, what surgical procedure should be followed to treat it?"</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> generate_rag_response(user_input)</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>display_markdown_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     261.66 ms /   409 runs   (    0.64 ms per token,  1563.10 tokens per second)
llama_print_timings: prompt eval time =    2349.41 ms /  1972 tokens (    1.19 ms per token,   839.36 tokens per second)
llama_print_timings:        eval time =   14693.11 ms /   408 runs   (   36.01 ms per token,    27.77 tokens per second)
llama_print_timings:       total time =   17760.16 ms /  2380 tokens</code></pre>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p>Sure, I can help you with that! Here’s the answer based on the provided context:</p>
<p><strong>Symptoms of Appendicitis:</strong></p>
<ul>
<li>Sudden and severe pain in the abdomen (often near the navel)</li>
<li>Nausea and vomiting</li>
<li>Loss of appetite</li>
<li>Fever</li>
<li>Abdominal tenderness and guarding (muscle tension)</li>
</ul>
<p><strong>Can Appendicitis be Cured via Medicine?</strong></p>
<p>No, appendicitis cannot be cured solely with medicine. Antibiotics may be used to treat any secondary infections, but they do not address the underlying inflammation of the appendix. Surgical intervention is necessary to remove the inflamed appendix and prevent further complications.</p>
<p><strong>Surgical Procedure for Treating Appendicitis:</strong></p>
<p>The preferred surgical procedure for treating appendicitis is a laparoscopic appendectomy, which involves removing the inflamed appendix through small incisions in the abdomen. This approach has been shown to have fewer complications and a faster recovery time compared to open appendectomy.</p>
<p>If the appendix is perforated, antibiotics may be administered before surgery to help reduce the risk of infection. In some cases, an open appendectomy may be necessary if the appendix is difficult to locate or if there are other complications present.</p>
<p>It’s important to note that a negative appendectomy rate of 15% is considered acceptable, meaning that in about 15% of cases, the surgeon may not be able to remove the inflamed appendix due to its location or other factors. In these cases, the patient may require further treatment, such as antibiotics and supportive care, to manage any ongoing infection or inflammation.</p>
</div>
</div>
</section>
<section id="query-3-what-are-the-effective-treatments-or-solutions-for-addressing-sudden-patchy-hair-loss-commonly-seen-as-localized-bald-spots-on-the-scalp-and-what-could-be-the-possible-causes-behind-it-2" class="level3">
<h3 class="anchored" data-anchor-id="query-3-what-are-the-effective-treatments-or-solutions-for-addressing-sudden-patchy-hair-loss-commonly-seen-as-localized-bald-spots-on-the-scalp-and-what-could-be-the-possible-causes-behind-it-2">Query 3: What are the effective treatments or solutions for addressing sudden patchy hair loss, commonly seen as localized bald spots on the scalp, and what could be the possible causes behind it?</h3>
<div id="cell-85" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:754}}" data-outputid="165c485e-f558-4fb9-de3e-0f40972dac78" data-execution_count="355">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>user_input <span class="op">=</span> <span class="st">"What are the effective treatments or solutions for addressing sudden patchy hair loss, commonly seen as localized bald spots on the scalp, and what could be the possible causes behind it?"</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> generate_rag_response(user_input)</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>display_markdown_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     328.39 ms /   512 runs   (    0.64 ms per token,  1559.11 tokens per second)
llama_print_timings: prompt eval time =    1615.15 ms /  1231 tokens (    1.31 ms per token,   762.16 tokens per second)
llama_print_timings:        eval time =   17883.20 ms /   511 runs   (   35.00 ms per token,    28.57 tokens per second)
llama_print_timings:       total time =   20428.26 ms /  1742 tokens</code></pre>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p>Based on the provided context, here are the effective treatments or solutions for addressing sudden patchy hair loss, commonly seen as localized bald spots on the scalp, and the possible causes behind it:</p>
<p><strong>Effective Treatments for Sudden Patchy Hair Loss:</strong></p>
<ol type="1">
<li><strong>Medications:</strong>
<ul>
<li>Corticosteroids: to reduce inflammation and suppress the immune system</li>
<li>Retinoids: to promote hair growth and prevent further hair loss</li>
<li>Immunosuppressants: to suppress the immune system and prevent autoimmune attacks on hair follicles</li>
</ul></li>
<li><strong>Wigs or Hairpieces:</strong>
<ul>
<li>Temporary solution for hair loss due to chemotherapy or other medical conditions</li>
<li>Can be customized to match the patient’s natural hair color and style</li>
</ul></li>
<li><strong>Hair Transplantation:</strong>
<ul>
<li>Permanent solution for hair loss, involves transplanting healthy hair follicles from one part of the scalp to another</li>
</ul></li>
<li><strong>Low-Level Laser Therapy (LLLT):</strong>
<ul>
<li>Non-invasive treatment that stimulates hair growth and reduces inflammation</li>
</ul></li>
<li><strong>Platelet-Rich Plasma (PRP) Therapy:</strong>
<ul>
<li>Injecting platelet-rich plasma into the scalp to stimulate hair growth and reduce inflammation</li>
</ul></li>
</ol>
<p><strong>Possible Causes of Sudden Patchy Hair Loss:</strong></p>
<ol type="1">
<li><strong>Alopecia Areata:</strong>
<ul>
<li>Autoimmune disorder that causes sudden patchy hair loss, often affecting the scalp and beard area</li>
<li>May affect most or all of the body (alopecia universalis)</li>
</ul></li>
<li><strong>Telogen Effluvium:</strong>
<ul>
<li>Condition where hair follicles enter the resting phase and shed, often due to physical or emotional stress</li>
</ul></li>
<li><strong>Anagen Effluvium:</strong>
<ul>
<li>Condition where hair follicles stop growing and enter the resting phase, often due to exposure to chemicals or radiation therapy</li>
</ul></li>
<li><strong>Androgenetic Alopecia (Male-Pattern and Female-Pattern Hair Loss):</strong>
<ul>
<li>Most common type of hair loss, caused by horm</li>
</ul></li>
</ol>
</div>
</div>
</section>
<section id="query-4-what-treatments-are-recommended-for-a-person-who-has-sustained-a-physical-injury-to-brain-tissue-resulting-in-temporary-or-permanent-impairment-of-brain-function-2" class="level3">
<h3 class="anchored" data-anchor-id="query-4-what-treatments-are-recommended-for-a-person-who-has-sustained-a-physical-injury-to-brain-tissue-resulting-in-temporary-or-permanent-impairment-of-brain-function-2">Query 4: What treatments are recommended for a person who has sustained a physical injury to brain tissue, resulting in temporary or permanent impairment of brain function?</h3>
<div id="cell-87" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:546}}" data-outputid="b1170d26-43fd-44ce-d857-955332f725cc" data-execution_count="356">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>user_input <span class="op">=</span> <span class="st">"What treatments are recommended for a person who has sustained a physical injury to brain tissue, resulting in temporary or permanent impairment of brain function?"</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> generate_rag_response(user_input)</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>display_markdown_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     269.58 ms /   425 runs   (    0.63 ms per token,  1576.50 tokens per second)
llama_print_timings: prompt eval time =    2279.07 ms /  1898 tokens (    1.20 ms per token,   832.79 tokens per second)
llama_print_timings:        eval time =   15229.39 ms /   424 runs   (   35.92 ms per token,    27.84 tokens per second)
llama_print_timings:       total time =   18258.96 ms /  2322 tokens</code></pre>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p>Based on the provided context, the following treatments are recommended for a person who has sustained a physical injury to brain tissue, resulting in temporary or permanent impairment of brain function:</p>
<p><strong>Ensuring Adequate Airway and Breathing</strong></p>
<ul>
<li>Maintaining a reliable airway is crucial to ensure adequate oxygenation of the brain</li>
<li>Endotracheal intubation may be necessary if the patient is unable to maintain their own airway</li>
</ul>
<p><strong>Maintaining Adequate Blood Pressure and Oxygenation</strong></p>
<ul>
<li>Monitoring vital signs regularly to ensure stable blood pressure and oxygen saturation</li>
<li>Administering fluids and medications as needed to maintain adequate blood pressure and oxygenation</li>
</ul>
<p><strong>Monitoring and Treating Intracranial Pressure</strong></p>
<ul>
<li>Placing monitors to track intracranial pressure and monitor for any changes in the patient’s condition</li>
<li>Performing surgery if intracranial pressure is increased, such as decompressing the brain or removing hematomas</li>
</ul>
<p><strong>Preventing Complications of Altered Sensorium</strong></p>
<ul>
<li>Monitoring the patient’s mental status and preventing complications such as seizures, aspiration, and decubitus ulcers</li>
<li>Providing appropriate medications to manage seizures, agitation, or other neurological symptoms</li>
</ul>
<p><strong>Rehabilitation</strong></p>
<ul>
<li>Providing physical, occupational, and speech therapy to help the patient regain lost functions and improve their quality of life</li>
<li>Monitoring the patient’s progress and adjusting the rehabilitation plan as needed</li>
</ul>
<p>It is important to note that the specific treatment plan will depend on the severity and location of the injury, as well as the individual needs of the patient. Additionally, the context does not provide information on the long-term outcomes or prognosis for patients with traumatic brain injury.</p>
</div>
</div>
</section>
<section id="query-5-what-are-the-necessary-precautions-and-treatment-steps-for-a-person-who-has-fractured-their-leg-during-a-hiking-trip-and-what-should-be-considered-for-their-care-and-recovery-2" class="level3">
<h3 class="anchored" data-anchor-id="query-5-what-are-the-necessary-precautions-and-treatment-steps-for-a-person-who-has-fractured-their-leg-during-a-hiking-trip-and-what-should-be-considered-for-their-care-and-recovery-2">Query 5: What are the necessary precautions and treatment steps for a person who has fractured their leg during a hiking trip, and what should be considered for their care and recovery?</h3>
<div id="cell-89" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:583}}" data-outputid="35f3e789-546e-4698-95e7-2e8a4cebee15" data-execution_count="357">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>user_input <span class="op">=</span> <span class="st">"What are the necessary precautions and treatment steps for a person who has fractured their leg during a hiking trip, and what should be considered for their care and recovery?"</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> generate_rag_response(user_input)</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>display_markdown_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     321.67 ms /   512 runs   (    0.63 ms per token,  1591.70 tokens per second)
llama_print_timings: prompt eval time =    1273.90 ms /   578 tokens (    2.20 ms per token,   453.72 tokens per second)
llama_print_timings:        eval time =   17265.22 ms /   511 runs   (   33.79 ms per token,    29.60 tokens per second)
llama_print_timings:       total time =   19406.89 ms /  1089 tokens</code></pre>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p>Sure, I’d be happy to help! Based on the provided context, here are the necessary precautions and treatment steps for a person who has fractured their leg during a hiking trip:</p>
<p><strong>Precautions:</strong></p>
<ul>
<li>Suspected open fractures require sterile wound dressings, tetanus prophylaxis, and broad-spectrum antibiotics (e.g., a 2nd-generation cephalosporin plus an aminoglycoside).</li>
<li>Patients should use a cane for support.</li>
<li>The cane should be moved to the lower step shortly before descending with the bad leg.</li>
</ul>
<p><strong>Treatment Steps:</strong></p>
<ol type="1">
<li><strong>Immobilization:</strong> Use a splint to immobilize the affected limb and prevent further injury or deformity.</li>
<li><strong>Pain Management:</strong> Administer appropriate pain medication as needed.</li>
<li><strong>Wound Care:</strong> Clean and dress any open wounds to prevent infection.</li>
<li><strong>Antibiotics:</strong> Provide broad-spectrum antibiotics to prevent infection, especially for suspected open fractures.</li>
<li><strong>Tetanus Prophylaxis:</strong> Administer tetanus immunoglobulin if the patient has not received a tetanus shot within the past 10 years.</li>
<li><strong>Monitoring:</strong> Closely monitor the patient’s vital signs, wound healing, and overall condition.</li>
<li><strong>Rehabilitation:</strong> Refer the patient to physical therapy as soon as possible to facilitate recovery and prevent complications.</li>
</ol>
<p><strong>Considerations for Care and Recovery:</strong></p>
<ol type="1">
<li><strong>Rest:</strong> Encourage the patient to rest the affected limb and avoid any strenuous activities.</li>
<li><strong>Elevation:</strong> Elevate the affected limb above heart level to reduce swelling and promote healing.</li>
<li><strong>Hydration:</strong> Ensure the patient stays well-hydrated to support the healing process.</li>
<li><strong>Nutrition:</strong> Provide a balanced diet rich in essential nutrients for optimal healing.</li>
<li><strong>Follow-up Care:</strong> Schedule regular follow-up appointments with a healthcare provider</li>
</ol>
</div>
</div>
</section>
<section id="fine-tuning" class="level3">
<h3 class="anchored" data-anchor-id="fine-tuning">Fine-tuning</h3>
<p><strong>Query 1: What is the protocol for managing sepsis in a critical care unit?</strong></p>
<div id="cell-92" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:720}}" data-outputid="cff2eebd-531e-4551-94b0-bd4047083162" data-execution_count="358">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>user_input <span class="op">=</span> <span class="st">"What is the protocol for managing sepsis in a critical care unit?"</span></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> generate_rag_response(user_input, temperature<span class="op">=</span><span class="fl">0.75</span>)</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>display_markdown_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     322.04 ms /   494 runs   (    0.65 ms per token,  1533.99 tokens per second)
llama_print_timings: prompt eval time =    2148.10 ms /  1778 tokens (    1.21 ms per token,   827.71 tokens per second)
llama_print_timings:        eval time =   17745.48 ms /   493 runs   (   35.99 ms per token,    27.78 tokens per second)
llama_print_timings:       total time =   20800.75 ms /  2271 tokens</code></pre>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p><strong>Sepsis Management Protocol in Critical Care Units</strong></p>
<ul>
<li>Monitoring:
<ul>
<li>Systemic pressure (CVP, PAOP)</li>
<li>Pulse oximetry</li>
<li>ABGs</li>
<li>Blood glucose, lactate, and electrolyte levels</li>
<li>Renal function, and possibly sublingual PCO2</li>
<li>Urine output (measured with an indwelling catheter)</li>
</ul></li>
<li>Fluid resuscitation:
<ul>
<li>0.9% saline until CVP reaches 8 mm Hg or PAOP reaches 12-15 mm Hg</li>
<li>Oliguria with hypotension is not a contraindication to fluid resuscitation</li>
<li>Frequent monitoring of fluid intake and output</li>
</ul></li>
<li>Vasopressor therapy:
<ul>
<li>Dopamine may be given to increase mean BP to at least 60 mm Hg if CVP or PAOP targets are not achieved with fluid resuscitation</li>
<li>Norepinephrine may be added if dopamine dose exceeds 20 g/kg/min</li>
<li>Vasoconstriction caused by higher doses of dopamine and norepinephrine poses risks of organ hypoperfusion and acidosis</li>
</ul></li>
<li>Oxygen therapy:
<ul>
<li>Given by mask or nasal prongs</li>
<li>Tracheal intubation and mechanical ventilation may be needed subsequently for respiratory failure</li>
</ul></li>
<li>Monitoring for signs of fluid overload and pulmonary edema</li>
<li>Electrolyte replacement and management of arrhythmias as needed</li>
<li>Protocols for investigating alarms from complex devices</li>
<li>Routine daily blood tests to help detect problems early, including:
<ul>
<li>Electrolytes</li>
<li>CBC</li>
<li>Mg, phosphate, and Ca levels for patients with arrhythmias</li>
<li>Liver enzymes and coagulation profiles for patients receiving TPN</li>
<li>Other tests as needed (e.g., blood culture for fever, CBC after a bleeding episode)</li>
</ul></li>
</ul>
<p>Note: The above protocol is based on the provided context and should not be considered a comprehensive or substitute for medical advice.</p>
</div>
</div>
<p><strong>Query 2: What are the common symptoms for appendicitis, and can it be cured via medicine? If not, what surgical procedure should be followed to treat it?</strong></p>
<div id="cell-94" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:494}}" data-outputid="24f28018-e688-45e1-fc27-d05ad6feb173" data-execution_count="359">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>user_input <span class="op">=</span> <span class="st">"What are the common symptoms for appendicitis, and can it be cured via medicine? If not, what surgical procedure should be followed to treat it?"</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> generate_rag_response(user_input, temperature<span class="op">=</span><span class="fl">0.75</span>)</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>display_markdown_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     198.27 ms /   315 runs   (    0.63 ms per token,  1588.77 tokens per second)
llama_print_timings: prompt eval time =    2340.32 ms /  1972 tokens (    1.19 ms per token,   842.62 tokens per second)
llama_print_timings:        eval time =   11294.20 ms /   314 runs   (   35.97 ms per token,    27.80 tokens per second)
llama_print_timings:       total time =   14154.34 ms /  2286 tokens</code></pre>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p>Sure, I can help you with that! Here’s the answer based on the provided context:</p>
<p><strong>Symptoms of Appendicitis:</strong></p>
<ul>
<li>Sudden and severe pain in the abdomen, often starting near the belly button and then moving to the lower right side</li>
<li>Nausea and vomiting</li>
<li>Loss of appetite</li>
<li>Fever and chills</li>
<li>Abdominal tenderness and guarding (muscle tension)</li>
<li>Abdominal swelling</li>
</ul>
<p><strong>Treatment of Appendicitis:</strong></p>
<ul>
<li>Appendectomy (surgical removal of the inflamed appendix) is the standard treatment for appendicitis
<ul>
<li>Open appendectomy: an incision is made in the abdomen to manually remove the inflamed appendix</li>
<li>Laparoscopic appendectomy: a laparoscope (thin tube with a camera and light) is inserted through small incisions to visualize the appendix, and then a specialized instrument is used to remove it</li>
</ul></li>
<li>Antibiotics may be given before or after surgery to help manage infection</li>
</ul>
<p>It’s important to note that while antibiotics can help manage the infection, they cannot cure appendicitis. Therefore, surgical removal of the inflamed appendix is necessary to treat the condition effectively.</p>
<p>I hope this helps! Let me know if you have any further questions.</p>
</div>
</div>
<p><strong>Query 3: What are the effective treatments or solutions for addressing sudden patchy hair loss, commonly seen as localized bald spots on the scalp, and what could be the possible causes behind it?</strong></p>
<div id="cell-96" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:671}}" data-outputid="e5c851a8-4d82-495c-bf87-6732ce3d2084" data-execution_count="360">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>user_input <span class="op">=</span> <span class="st">"What are the effective treatments or solutions for addressing sudden patchy hair loss, commonly seen as localized bald spots on the scalp, and what could be the possible causes behind it?"</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> generate_rag_response(user_input, temperature<span class="op">=</span><span class="fl">0.75</span>)</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>display_markdown_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     329.93 ms /   512 runs   (    0.64 ms per token,  1551.85 tokens per second)
llama_print_timings: prompt eval time =    1533.35 ms /  1231 tokens (    1.25 ms per token,   802.82 tokens per second)
llama_print_timings:        eval time =   17805.80 ms /   511 runs   (   34.85 ms per token,    28.70 tokens per second)
llama_print_timings:       total time =   20268.18 ms /  1742 tokens</code></pre>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p>Based on the provided context, here are the effective treatments or solutions for addressing sudden patchy hair loss, commonly seen as localized bald spots on the scalp, and the possible causes behind it:</p>
<p><strong>Effective Treatments for Sudden Patchy Hair Loss:</strong></p>
<ol type="1">
<li><strong>Medications:</strong>
<ul>
<li>Corticosteroids: These medications can help reduce inflammation and suppress the immune system, which may help prevent further hair loss and promote hair growth.</li>
<li>Retinoids: Derivatives of vitamin A, these medications can help slow down hair loss and promote hair growth by increasing cell turnover and reducing scalp inflammation.</li>
<li>Immunosuppressants: These medications can help suppress the immune system and prevent it from attacking the hair follicles, which may help reduce hair loss and promote hair growth.</li>
</ul></li>
<li><strong>Topical Treatments:</strong>
<ul>
<li>Minoxidil (Rogaine): A solution that is applied directly to the scalp, minoxidil can help stimulate hair growth and slow down hair loss.</li>
<li>Finasteride (Propecia): A medication that is available in pill form, finasteride can help prevent hair loss by blocking the production of dihydrotestosterone (DHT), a hormone that contributes to hair loss.</li>
</ul></li>
<li><strong>Surgical Solutions:</strong>
<ul>
<li>Hair transplantation: This procedure involves transplanting healthy hair follicles from one part of the scalp to another, and can help restore hair growth in balding areas.</li>
</ul></li>
</ol>
<p><strong>Possible Causes of Sudden Patchy Hair Loss:</strong></p>
<ol type="1">
<li><strong>Autoimmune Disorders:</strong>
<ul>
<li>Alopecia areata: An autoimmune disorder that causes sudden patchy hair loss, alopecia areata can affect any hairy area of the body and is thought to be triggered by environmental factors.</li>
</ul></li>
<li><strong>Hormonal Imbalances:</strong>
<ul>
<li>Androgenetic alopecia (male-pattern and female-pattern hair loss): The most common type of hair loss, androgenetic alopecia is caused by a combination of genetics and hormonal imbalances, particularly an excess of dihydrotestosterone (DHT).</li>
</ul></li>
</ol>
</div>
</div>
<p><strong>Query 4: What treatments are recommended for a person who has sustained a physical injury to brain tissue, resulting in temporary or permanent impairment of brain function?</strong></p>
<div id="cell-98" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:488}}" data-outputid="445463b9-6af7-43c8-f56d-9910b0c57fb6" data-execution_count="361">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>user_input <span class="op">=</span> <span class="st">"What treatments are recommended for a person who has sustained a physical injury to brain tissue, resulting in temporary or permanent impairment of brain function?"</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> generate_rag_response(user_input, temperature<span class="op">=</span><span class="fl">0.75</span>)</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>display_markdown_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     213.49 ms /   327 runs   (    0.65 ms per token,  1531.72 tokens per second)
llama_print_timings: prompt eval time =    2395.19 ms /  1898 tokens (    1.26 ms per token,   792.42 tokens per second)
llama_print_timings:        eval time =   11738.36 ms /   326 runs   (   36.01 ms per token,    27.77 tokens per second)
llama_print_timings:       total time =   14697.81 ms /  2224 tokens</code></pre>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p>Sure! Here’s the answer to the medical question based on the provided context:</p>
<p><strong>Initial Treatment for Traumatic Brain Injury (TBI)</strong></p>
<ul>
<li>Ensure a reliable airway and maintain adequate ventilation, oxygenation, and blood pressure</li>
<li>Manage intracranial pressure and prevent complications such as increased intracranial pressure or herniation</li>
<li>Monitor and treat any contusions, intracerebral or subarachnoid hemorrhage, or epidural or subdural hematomas</li>
<li>Provide appropriate neurological and neurosurgical consultation</li>
</ul>
<p><strong>Surgical Interventions for TBI</strong></p>
<ul>
<li>Place monitors to track and treat intracranial pressure</li>
<li>Decompress the brain if intracranial pressure is increased</li>
<li>Remove intracranial hematomas or blood clots</li>
</ul>
<p><strong>Other Recommended Treatments for TBI</strong></p>
<ul>
<li>Maintaining adequate brain perfusion and oxygenation in the first few days after injury</li>
<li>Preventing complications of altered sensorium</li>
<li>Managing the consequences of concussion, including loss of consciousness or memory</li>
<li>Providing appropriate rehabilitation to address cognitive, motor, and behavioral deficits</li>
</ul>
<p><strong>Note: The specific treatment plan for TBI will depend on the severity and location of the injury, as well as the individual patient’s needs and medical history.</strong></p>
</div>
</div>
<p><strong>Query 5: What are the necessary precautions and treatment steps for a person who has fractured their leg during a hiking trip, and what should be considered for their care and recovery?</strong></p>
<div id="cell-100" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:534}}" data-outputid="e973375d-8708-4ae0-f432-7a88c663dcb0" data-execution_count="362">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>user_input <span class="op">=</span> <span class="st">"What are the necessary precautions and treatment steps for a person who has fractured their leg during a hiking trip, and what should be considered for their care and recovery?"</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>response <span class="op">=</span> generate_rag_response(user_input, temperature<span class="op">=</span><span class="fl">0.75</span>)</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>display_markdown_response(response)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     251.66 ms /   389 runs   (    0.65 ms per token,  1545.72 tokens per second)
llama_print_timings: prompt eval time =     839.09 ms /   578 tokens (    1.45 ms per token,   688.84 tokens per second)
llama_print_timings:        eval time =   13041.76 ms /   388 runs   (   33.61 ms per token,    29.75 tokens per second)
llama_print_timings:       total time =   14514.08 ms /   966 tokens</code></pre>
</div>
<div class="cell-output cell-output-display cell-output-markdown">
<p><strong>Splinting and Immobilization</strong></p>
<ul>
<li>Suspected open fractures require sterile wound dressings, tetanus prophylaxis, and broad-spectrum antibiotics (e.g., a 2nd-generation cephalosporin plus an aminoglycoside)</li>
<li>Non-displaced closed fractures can be treated with immobilization using a splint or cast</li>
</ul>
<p><strong>Wound Care and Infection Prevention</strong></p>
<ul>
<li>Keep the wound clean and dry to prevent infection</li>
<li>Change dressings daily or as often as recommended by a healthcare professional</li>
<li>Monitor for signs of infection, such as redness, swelling, or increased pain</li>
</ul>
<p><strong>Pain Management</strong></p>
<ul>
<li>Use nonsteroidal anti-inflammatory drugs (NSAIDs) and opioids as needed to manage pain</li>
<li>Consider using a cane for ambulation to reduce weight-bearing on the affected leg</li>
</ul>
<p><strong>Rehabilitation and Recovery</strong></p>
<ul>
<li>Follow a rehabilitation plan that includes physical therapy and exercises to restore strength, flexibility, and range of motion in the affected limb</li>
<li>Consider using a brace or orthosis to support the affected limb during recovery</li>
<li>Monitor progress and adjust the rehabilitation plan as needed to ensure proper healing and minimize complications</li>
</ul>
<p><strong>Considerations for Care and Recovery</strong></p>
<ul>
<li>Provide adequate rest and avoid overexertion during the recovery period</li>
<li>Monitor for signs of complications, such as infection, nerve damage, or poor wound healing</li>
<li>Follow up with a healthcare professional regularly to ensure proper healing and address any concerns or complications that arise.</li>
</ul>
</div>
</div>
</section>
</section>
<section id="output-evaluation" class="level2">
<h2 class="anchored" data-anchor-id="output-evaluation">Output Evaluation</h2>
<p>Let us now use the LLM-as-a-judge method to check the quality of the RAG system on two parameters - retrieval and generation.</p>
<p>We are using the same Mistral model for evaluation, so basically here the llm is rating itself on how well he has performed in the task.</p>
<div id="cell-103" class="cell" data-execution_count="363">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>groundedness_rater_system_message <span class="op">=</span> <span class="st">"""You are a medical quality evaluator. You are given a context, a question, and an answer.</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="st">Your task is to evaluate whether the answer is **well grounded** in the context:</span></span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a><span class="st">- The answer should only include facts supported by the context.</span></span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a><span class="st">- It should not hallucinate or invent facts not present in the context.</span></span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a><span class="st">Rate the groundedness as one of the following:</span></span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a><span class="st">- HIGH: Answer is fully supported by the context</span></span>
<span id="cb93-9"><a href="#cb93-9" aria-hidden="true" tabindex="-1"></a><span class="st">- MEDIUM: Some minor content is unsupported but most is grounded</span></span>
<span id="cb93-10"><a href="#cb93-10" aria-hidden="true" tabindex="-1"></a><span class="st">- LOW: Many details are not supported or are fabricated</span></span>
<span id="cb93-11"><a href="#cb93-11" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-104" class="cell" data-execution_count="364">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>relevance_rater_system_message <span class="op">=</span> <span class="st">"""You are a medical quality evaluator. You are given a context, a question, and an answer.</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a><span class="st">Your task is to evaluate how **relevant** the answer is to the question:</span></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="st">- Does it directly address what was asked?</span></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a><span class="st">- Does it stay focused or go off-topic?</span></span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a><span class="st">Rate the relevance as one of the following:</span></span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a><span class="st">- HIGH: Directly and fully answers the question</span></span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a><span class="st">- MEDIUM: Partially answers, with some unrelated or missing info</span></span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a><span class="st">- LOW: Mostly irrelevant or off-topic</span></span>
<span id="cb94-11"><a href="#cb94-11" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-105" class="cell" data-execution_count="365">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>user_message_template <span class="op">=</span> <span class="st">"""Context:</span></span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="sc">{context}</span></span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a><span class="st">Question:</span></span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a><span class="sc">{question}</span></span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a><span class="st">Answer:</span></span>
<span id="cb95-8"><a href="#cb95-8" aria-hidden="true" tabindex="-1"></a><span class="sc">{answer}</span></span>
<span id="cb95-9"><a href="#cb95-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb95-10"><a href="#cb95-10" aria-hidden="true" tabindex="-1"></a><span class="st">Rate the answer based on the above context and instructions.</span></span>
<span id="cb95-11"><a href="#cb95-11" aria-hidden="true" tabindex="-1"></a><span class="st">"""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-106" class="cell" data-execution_count="366">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> generate_ground_relevance_response(user_input,k<span class="op">=</span><span class="dv">2</span>,max_tokens<span class="op">=</span><span class="dv">512</span>,temperature<span class="op">=</span><span class="dv">0</span>,top_p<span class="op">=</span><span class="fl">0.95</span>,top_k<span class="op">=</span><span class="dv">50</span>):</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">global</span> qna_system_message,qna_user_message_template</span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Retrieve relevant document chunks</span></span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>    relevant_document_chunks <span class="op">=</span> retriever.get_relevant_documents(query<span class="op">=</span>user_input,k<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>    context_list <span class="op">=</span> [d.page_content <span class="cf">for</span> d <span class="kw">in</span> relevant_document_chunks]</span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a>    context_for_query <span class="op">=</span> <span class="st">". "</span>.join(context_list)</span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-8"><a href="#cb96-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Combine user_prompt and system_message to create the prompt</span></span>
<span id="cb96-9"><a href="#cb96-9" aria-hidden="true" tabindex="-1"></a>    prompt <span class="op">=</span> <span class="ss">f"""[INST]</span><span class="sc">{</span>qna_system_message<span class="sc">}</span><span class="ch">\n</span></span>
<span id="cb96-10"><a href="#cb96-10" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="sc">{</span><span class="st">'user'</span><span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>qna_user_message_template<span class="sc">.</span><span class="bu">format</span>(context<span class="op">=</span>context_for_query, question<span class="op">=</span>user_input)<span class="sc">}</span></span>
<span id="cb96-11"><a href="#cb96-11" aria-hidden="true" tabindex="-1"></a><span class="ss">                [/INST]"""</span></span>
<span id="cb96-12"><a href="#cb96-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-13"><a href="#cb96-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">#llm.reset()</span></span>
<span id="cb96-14"><a href="#cb96-14" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> llm(</span>
<span id="cb96-15"><a href="#cb96-15" aria-hidden="true" tabindex="-1"></a>            prompt<span class="op">=</span>prompt,</span>
<span id="cb96-16"><a href="#cb96-16" aria-hidden="true" tabindex="-1"></a>            max_tokens<span class="op">=</span>max_tokens,</span>
<span id="cb96-17"><a href="#cb96-17" aria-hidden="true" tabindex="-1"></a>            temperature<span class="op">=</span>temperature,</span>
<span id="cb96-18"><a href="#cb96-18" aria-hidden="true" tabindex="-1"></a>            top_p<span class="op">=</span>top_p,</span>
<span id="cb96-19"><a href="#cb96-19" aria-hidden="true" tabindex="-1"></a>            top_k<span class="op">=</span>top_k,</span>
<span id="cb96-20"><a href="#cb96-20" aria-hidden="true" tabindex="-1"></a>            stop<span class="op">=</span>[<span class="st">'INST'</span>],</span>
<span id="cb96-21"><a href="#cb96-21" aria-hidden="true" tabindex="-1"></a>            echo<span class="op">=</span><span class="va">False</span></span>
<span id="cb96-22"><a href="#cb96-22" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb96-23"><a href="#cb96-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-24"><a href="#cb96-24" aria-hidden="true" tabindex="-1"></a>    answer <span class="op">=</span>  response[<span class="st">"choices"</span>][<span class="dv">0</span>][<span class="st">"text"</span>]</span>
<span id="cb96-25"><a href="#cb96-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-26"><a href="#cb96-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Combine user_prompt and system_message to create the prompt</span></span>
<span id="cb96-27"><a href="#cb96-27" aria-hidden="true" tabindex="-1"></a>    groundedness_prompt <span class="op">=</span> <span class="ss">f"""[INST]</span><span class="sc">{</span>groundedness_rater_system_message<span class="sc">}</span><span class="ch">\n</span></span>
<span id="cb96-28"><a href="#cb96-28" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="sc">{</span><span class="st">'user'</span><span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>user_message_template<span class="sc">.</span><span class="bu">format</span>(context<span class="op">=</span>context_for_query, question<span class="op">=</span>user_input, answer<span class="op">=</span>answer)<span class="sc">}</span></span>
<span id="cb96-29"><a href="#cb96-29" aria-hidden="true" tabindex="-1"></a><span class="ss">                [/INST]"""</span></span>
<span id="cb96-30"><a href="#cb96-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-31"><a href="#cb96-31" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Combine user_prompt and system_message to create the prompt</span></span>
<span id="cb96-32"><a href="#cb96-32" aria-hidden="true" tabindex="-1"></a>    relevance_prompt <span class="op">=</span> <span class="ss">f"""[INST]</span><span class="sc">{</span>relevance_rater_system_message<span class="sc">}</span><span class="ch">\n</span></span>
<span id="cb96-33"><a href="#cb96-33" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="sc">{</span><span class="st">'user'</span><span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>user_message_template<span class="sc">.</span><span class="bu">format</span>(context<span class="op">=</span>context_for_query, question<span class="op">=</span>user_input, answer<span class="op">=</span>answer)<span class="sc">}</span></span>
<span id="cb96-34"><a href="#cb96-34" aria-hidden="true" tabindex="-1"></a><span class="ss">                [/INST]"""</span></span>
<span id="cb96-35"><a href="#cb96-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-36"><a href="#cb96-36" aria-hidden="true" tabindex="-1"></a>    <span class="co">#llm_reset()</span></span>
<span id="cb96-37"><a href="#cb96-37" aria-hidden="true" tabindex="-1"></a>    response_1 <span class="op">=</span> llm(</span>
<span id="cb96-38"><a href="#cb96-38" aria-hidden="true" tabindex="-1"></a>            prompt<span class="op">=</span>groundedness_prompt,</span>
<span id="cb96-39"><a href="#cb96-39" aria-hidden="true" tabindex="-1"></a>            max_tokens<span class="op">=</span><span class="dv">200</span>,</span>
<span id="cb96-40"><a href="#cb96-40" aria-hidden="true" tabindex="-1"></a>            temperature<span class="op">=</span>temperature,</span>
<span id="cb96-41"><a href="#cb96-41" aria-hidden="true" tabindex="-1"></a>            top_p<span class="op">=</span>top_p,</span>
<span id="cb96-42"><a href="#cb96-42" aria-hidden="true" tabindex="-1"></a>            top_k<span class="op">=</span>top_k,</span>
<span id="cb96-43"><a href="#cb96-43" aria-hidden="true" tabindex="-1"></a>            stop<span class="op">=</span>[<span class="st">'INST'</span>],</span>
<span id="cb96-44"><a href="#cb96-44" aria-hidden="true" tabindex="-1"></a>            echo<span class="op">=</span><span class="va">False</span></span>
<span id="cb96-45"><a href="#cb96-45" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb96-46"><a href="#cb96-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-47"><a href="#cb96-47" aria-hidden="true" tabindex="-1"></a>    <span class="co">#llm_reset()</span></span>
<span id="cb96-48"><a href="#cb96-48" aria-hidden="true" tabindex="-1"></a>    response_2 <span class="op">=</span> llm(</span>
<span id="cb96-49"><a href="#cb96-49" aria-hidden="true" tabindex="-1"></a>            prompt<span class="op">=</span>relevance_prompt,</span>
<span id="cb96-50"><a href="#cb96-50" aria-hidden="true" tabindex="-1"></a>            max_tokens<span class="op">=</span><span class="dv">200</span>,</span>
<span id="cb96-51"><a href="#cb96-51" aria-hidden="true" tabindex="-1"></a>            temperature<span class="op">=</span>temperature,</span>
<span id="cb96-52"><a href="#cb96-52" aria-hidden="true" tabindex="-1"></a>            top_p<span class="op">=</span>top_p,</span>
<span id="cb96-53"><a href="#cb96-53" aria-hidden="true" tabindex="-1"></a>            top_k<span class="op">=</span>top_k,</span>
<span id="cb96-54"><a href="#cb96-54" aria-hidden="true" tabindex="-1"></a>            stop<span class="op">=</span>[<span class="st">'INST'</span>],</span>
<span id="cb96-55"><a href="#cb96-55" aria-hidden="true" tabindex="-1"></a>            echo<span class="op">=</span><span class="va">False</span></span>
<span id="cb96-56"><a href="#cb96-56" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb96-57"><a href="#cb96-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-58"><a href="#cb96-58" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> response_1[<span class="st">'choices'</span>][<span class="dv">0</span>][<span class="st">'text'</span>],response_2[<span class="st">'choices'</span>][<span class="dv">0</span>][<span class="st">'text'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-107" class="cell" data-execution_count="367">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> Markdown, display</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> display_rag_evaluation(ground_text, rel_text):</span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> extract_score_and_reason(text):</span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>        lines <span class="op">=</span> text.strip().split(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>        score_line <span class="op">=</span> <span class="bu">next</span>((line <span class="cf">for</span> line <span class="kw">in</span> lines <span class="cf">if</span> <span class="st">"rate"</span> <span class="kw">in</span> line.lower() <span class="kw">and</span> (<span class="st">"high"</span> <span class="kw">in</span> line.lower() <span class="kw">or</span> <span class="st">"medium"</span> <span class="kw">in</span> line.lower() <span class="kw">or</span> <span class="st">"low"</span> <span class="kw">in</span> line.lower())), <span class="st">""</span>)</span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>        score <span class="op">=</span> <span class="st">"HIGH"</span> <span class="cf">if</span> <span class="st">"high"</span> <span class="kw">in</span> score_line.lower() <span class="cf">else</span> <span class="st">"MEDIUM"</span> <span class="cf">if</span> <span class="st">"medium"</span> <span class="kw">in</span> score_line.lower() <span class="cf">else</span> <span class="st">"LOW"</span></span>
<span id="cb97-8"><a href="#cb97-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> score.upper(), text.strip()</span>
<span id="cb97-9"><a href="#cb97-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-10"><a href="#cb97-10" aria-hidden="true" tabindex="-1"></a>    grounded_score, grounded_reason <span class="op">=</span> extract_score_and_reason(ground_text)</span>
<span id="cb97-11"><a href="#cb97-11" aria-hidden="true" tabindex="-1"></a>    relevance_score, relevance_reason <span class="op">=</span> extract_score_and_reason(rel_text)</span>
<span id="cb97-12"><a href="#cb97-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-13"><a href="#cb97-13" aria-hidden="true" tabindex="-1"></a>    display(Markdown(<span class="ss">f"""</span></span>
<span id="cb97-14"><a href="#cb97-14" aria-hidden="true" tabindex="-1"></a><span class="ss">### RAG Evaluation Results</span></span>
<span id="cb97-15"><a href="#cb97-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-16"><a href="#cb97-16" aria-hidden="true" tabindex="-1"></a><span class="ss">** Groundedness:** `</span><span class="sc">{</span>grounded_score<span class="sc">}</span><span class="ss">`</span></span>
<span id="cb97-17"><a href="#cb97-17" aria-hidden="true" tabindex="-1"></a><span class="sc">{</span>grounded_reason<span class="sc">}</span></span>
<span id="cb97-18"><a href="#cb97-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-19"><a href="#cb97-19" aria-hidden="true" tabindex="-1"></a><span class="ss">---</span></span>
<span id="cb97-20"><a href="#cb97-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb97-21"><a href="#cb97-21" aria-hidden="true" tabindex="-1"></a><span class="ss">** Relevance:** `</span><span class="sc">{</span>relevance_score<span class="sc">}</span><span class="ss">`</span></span>
<span id="cb97-22"><a href="#cb97-22" aria-hidden="true" tabindex="-1"></a><span class="sc">{</span>relevance_reason<span class="sc">}</span></span>
<span id="cb97-23"><a href="#cb97-23" aria-hidden="true" tabindex="-1"></a><span class="ss">"""</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Query 1: What is the protocol for managing sepsis in a critical care unit?</strong></p>
<div id="cell-109" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:637}}" data-outputid="c59a622a-49c3-4819-c036-008d40e1a114" data-execution_count="368">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>ground,rel <span class="op">=</span> generate_ground_relevance_response(user_input<span class="op">=</span><span class="st">"What is the protocol for managing sepsis in a critical care unit?"</span>)</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>display_rag_evaluation(ground, rel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     337.37 ms /   512 runs   (    0.66 ms per token,  1517.61 tokens per second)
llama_print_timings: prompt eval time =    2250.97 ms /  1874 tokens (    1.20 ms per token,   832.53 tokens per second)
llama_print_timings:        eval time =   18540.43 ms /   511 runs   (   36.28 ms per token,    27.56 tokens per second)
llama_print_timings:       total time =   21754.99 ms /  2385 tokens
Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =      72.92 ms /   115 runs   (    0.63 ms per token,  1577.18 tokens per second)
llama_print_timings: prompt eval time =    2878.52 ms /  2408 tokens (    1.20 ms per token,   836.54 tokens per second)
llama_print_timings:        eval time =    4073.34 ms /   114 runs   (   35.73 ms per token,    27.99 tokens per second)
llama_print_timings:       total time =    7127.42 ms /  2522 tokens
Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =      91.96 ms /   144 runs   (    0.64 ms per token,  1565.90 tokens per second)
llama_print_timings: prompt eval time =    3429.98 ms /  2372 tokens (    1.45 ms per token,   691.55 tokens per second)
llama_print_timings:        eval time =    5100.86 ms /   143 runs   (   35.67 ms per token,    28.03 tokens per second)
llama_print_timings:       total time =    8751.96 ms /  2515 tokens</code></pre>
</div>
<section id="rag-evaluation-results" class="level3 cell-output cell-output-display cell-output-markdown">
<h3 class="anchored" data-anchor-id="rag-evaluation-results">RAG Evaluation Results</h3>
<p>** Groundedness:** <code>HIGH</code><br>
Based on the provided context and instructions, I would rate the answer as HIGH in terms of groundedness. The answer provides specific and detailed information about the protocol for managing sepsis in a critical care unit, which is fully supported by the context. The answer does not hallucinate or invent facts not present in the context, and it accurately summarizes the key points from the provided text. Overall, the answer is well-grounded and provides a comprehensive overview of the sepsis management protocol in critical care units.</p>
<hr>
<p>** Relevance:** <code>HIGH</code><br>
Based on the context and instructions, I would rate the answer as HIGH in relevance. The answer directly addresses the question by providing a detailed protocol for managing sepsis in a critical care unit, including monitoring and testing, fluid resuscitation, vasoactive medications, oxygen therapy, and supportive care. The answer is well-structured and includes specific examples and references to the Merck Manual of Diagnosis &amp; Therapy, 19th Edition, which adds credibility to the information provided. Overall, the answer fully addresses the question and provides a comprehensive overview of the protocol for managing sepsis in a critical care unit.</p>
</section>
</div>
<p><strong>Query 2: What are the common symptoms for appendicitis, and can it be cured via medicine? If not, what surgical procedure should be followed to treat it?</strong></p>
<div id="cell-111" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:649}}" data-outputid="067cee7f-1dc0-4a5d-e1d4-61ade50d9b37" data-execution_count="369">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>ground,rel <span class="op">=</span> generate_ground_relevance_response(user_input<span class="op">=</span><span class="st">"What are the common symptoms for appendicitis, and can it be cured via medicine? If not, what surgical procedure should be followed to treat it?"</span>)</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>display_rag_evaluation(ground, rel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     284.75 ms /   441 runs   (    0.65 ms per token,  1548.72 tokens per second)
llama_print_timings: prompt eval time =    2626.94 ms /  2066 tokens (    1.27 ms per token,   786.47 tokens per second)
llama_print_timings:        eval time =   15923.49 ms /   440 runs   (   36.19 ms per token,    27.63 tokens per second)
llama_print_timings:       total time =   19335.21 ms /  2506 tokens
Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =      90.42 ms /   145 runs   (    0.62 ms per token,  1603.57 tokens per second)
llama_print_timings: prompt eval time =    2989.71 ms /  2531 tokens (    1.18 ms per token,   846.57 tokens per second)
llama_print_timings:        eval time =    5164.05 ms /   144 runs   (   35.86 ms per token,    27.89 tokens per second)
llama_print_timings:       total time =    8378.64 ms /  2675 tokens
Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =      81.59 ms /   131 runs   (    0.62 ms per token,  1605.67 tokens per second)
llama_print_timings: prompt eval time =    3359.57 ms /  2495 tokens (    1.35 ms per token,   742.65 tokens per second)
llama_print_timings:        eval time =    4684.81 ms /   130 runs   (   36.04 ms per token,    27.75 tokens per second)
llama_print_timings:       total time =    8245.45 ms /  2625 tokens</code></pre>
</div>
<section id="rag-evaluation-results-1" class="level3 cell-output cell-output-display cell-output-markdown">
<h3 class="anchored" data-anchor-id="rag-evaluation-results-1">RAG Evaluation Results</h3>
<p>** Groundedness:** <code>HIGH</code><br>
Based on the provided context and instructions, I would rate the answer as HIGH in terms of groundedness. The answer provides a clear and accurate summary of the symptoms and treatment options for appendicitis, including the surgical procedures that can be used to treat the condition.</p>
<p>The answer is well-supported by the context, which provides detailed information about the diagnosis and treatment of appendicitis. The answer does not hallucinate or invent facts not present in the context, and it does not contain any major content that is unsupported or fabricated.</p>
<p>Overall, the answer demonstrates a high level of groundedness and is well-supported by the provided context.</p>
<hr>
<p>** Relevance:** <code>HIGH</code><br>
Based on the provided context and instructions, I would rate the answer as HIGH in relevance. The answer directly addresses the question by providing a detailed description of the symptoms of appendicitis and the surgical procedures used to treat the condition. The information is accurate and comprehensive, covering both laparoscopic and open appendectomy options. The answer also mentions the use of antibiotics in cases where surgery is not possible, which is relevant to the question. Overall, the answer is well-structured and easy to follow, making it a high-relevance response to the question.</p>
</section>
</div>
<p><strong>Query 3: What are the effective treatments or solutions for addressing sudden patchy hair loss, commonly seen as localized bald spots on the scalp, and what could be the possible causes behind it?</strong></p>
<div id="cell-113" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:719}}" data-outputid="fd3a60a3-b34c-41c6-c3ba-3775ac699bce" data-execution_count="370">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>ground,rel <span class="op">=</span> generate_ground_relevance_response(user_input<span class="op">=</span><span class="st">"What are the effective treatments or solutions for addressing sudden patchy hair loss, commonly seen as localized bald spots on the scalp, and what could be the possible causes behind it?"</span>,max_tokens<span class="op">=</span><span class="dv">370</span>)</span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>display_rag_evaluation(ground, rel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     231.80 ms /   370 runs   (    0.63 ms per token,  1596.18 tokens per second)
llama_print_timings: prompt eval time =    1582.24 ms /  1324 tokens (    1.20 ms per token,   836.79 tokens per second)
llama_print_timings:        eval time =   12863.31 ms /   369 runs   (   34.86 ms per token,    28.69 tokens per second)
llama_print_timings:       total time =   15042.53 ms /  1693 tokens
Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     105.40 ms /   160 runs   (    0.66 ms per token,  1518.01 tokens per second)
llama_print_timings: prompt eval time =    2093.23 ms /  1719 tokens (    1.22 ms per token,   821.22 tokens per second)
llama_print_timings:        eval time =    5722.57 ms /   159 runs   (   35.99 ms per token,    27.78 tokens per second)
llama_print_timings:       total time =    8066.70 ms /  1878 tokens
Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     125.96 ms /   200 runs   (    0.63 ms per token,  1587.84 tokens per second)
llama_print_timings: prompt eval time =    2105.21 ms /  1683 tokens (    1.25 ms per token,   799.45 tokens per second)
llama_print_timings:        eval time =    7042.45 ms /   199 runs   (   35.39 ms per token,    28.26 tokens per second)
llama_print_timings:       total time =    9457.61 ms /  1882 tokens</code></pre>
</div>
<section id="rag-evaluation-results-2" class="level3 cell-output cell-output-display cell-output-markdown">
<h3 class="anchored" data-anchor-id="rag-evaluation-results-2">RAG Evaluation Results</h3>
<p>** Groundedness:** <code>MEDIUM</code><br>
Based on the provided context and instructions, I would rate the answer as MEDIUM. The answer provides some information that is supported by the context, such as the possible causes of sudden patchy hair loss (Alopecia Areata) and effective treatments for addressing it. However, the answer also includes some information that is not fully supported by the context, such as the mention of hormonal imbalance as a possible cause of Androgenetic Alopecia, which is not explicitly stated in the provided text. Additionally, the answer could benefit from more specific examples or references to support the listed treatments and causes. Overall, while the answer shows some understanding of the topic, it could be improved with more careful attention to detail and supporting evidence.</p>
<hr>
<p>** Relevance:** <code>MEDIUM</code><br>
Based on the provided context and instructions, I would rate the answer as MEDIUM. The answer partially addresses the question by providing information on effective treatments and possible causes of sudden patchy hair loss (alopecia areata), androgenetic alopecia (male-pattern and female-pattern hair loss), and hair loss due to chemotherapy. However, the answer goes off-topic by mentioning hormonal imbalance and genetic predisposition as possible causes of hair loss, which are not directly related to the question.</p>
<p>Here’s a breakdown of the relevance rating:</p>
<ul>
<li>High relevance: The answer provides information on effective treatments for alopecia areata and androgenetic alopecia, which are directly related to the question.</li>
<li>Medium relevance: The answer mentions possible causes of hair loss, such as hormonal imbalance and genetic predisposition, but these</li>
</ul>
</section>
</div>
<p><strong>Query 4: What treatments are recommended for a person who has sustained a physical injury to brain tissue, resulting in temporary or permanent impairment of brain function?</strong></p>
<div id="cell-115" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:655}}" data-outputid="9b4f29a9-df54-43b3-c90c-4692ec8a5b65" data-execution_count="371">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>ground,rel <span class="op">=</span> generate_ground_relevance_response(user_input<span class="op">=</span><span class="st">"What treatments are recommended for a person who has sustained a physical injury to brain tissue, resulting in temporary or permanent impairment of brain function?"</span>)</span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>display_rag_evaluation(ground, rel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     195.92 ms /   307 runs   (    0.64 ms per token,  1566.96 tokens per second)
llama_print_timings: prompt eval time =    2352.84 ms /  1991 tokens (    1.18 ms per token,   846.21 tokens per second)
llama_print_timings:        eval time =   10941.26 ms /   306 runs   (   35.76 ms per token,    27.97 tokens per second)
llama_print_timings:       total time =   13805.18 ms /  2297 tokens
Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     111.94 ms /   175 runs   (    0.64 ms per token,  1563.32 tokens per second)
llama_print_timings: prompt eval time =    2815.00 ms /  2322 tokens (    1.21 ms per token,   824.87 tokens per second)
llama_print_timings:        eval time =    6354.22 ms /   174 runs   (   36.52 ms per token,    27.38 tokens per second)
llama_print_timings:       total time =    9447.88 ms /  2496 tokens
Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =      68.26 ms /   109 runs   (    0.63 ms per token,  1596.86 tokens per second)
llama_print_timings: prompt eval time =    2840.99 ms /  2286 tokens (    1.24 ms per token,   804.65 tokens per second)
llama_print_timings:        eval time =    3834.62 ms /   108 runs   (   35.51 ms per token,    28.16 tokens per second)
llama_print_timings:       total time =    6839.39 ms /  2394 tokens</code></pre>
</div>
<section id="rag-evaluation-results-3" class="level3 cell-output cell-output-display cell-output-markdown">
<h3 class="anchored" data-anchor-id="rag-evaluation-results-3">RAG Evaluation Results</h3>
<p>** Groundedness:** <code>HIGH</code><br>
Based on the provided context and instructions, I would rate the answer as HIGH in terms of groundedness. The answer provides a comprehensive list of treatments for traumatic brain injury (TBI) that are supported by the content of the provided chapter. The answer includes specific details such as ensuring a reliable airway, maintaining adequate ventilation and oxygenation, and surgery to place monitors or remove hematomas, which are all directly related to the management of TBI as described in the context. Additionally, the answer mentions rehabilitation, management of complications, and medications to control symptoms, which are also consistent with the content of the chapter. Overall, the answer is well-supported by the provided context and does not hallucinate or invent facts not present in the context.</p>
<hr>
<p>** Relevance:** <code>HIGH</code><br>
Based on the provided context and instructions, I would rate the answer as HIGH in relevance. The answer directly addresses the question by providing a comprehensive list of treatments recommended for a person who has sustained a physical injury to brain tissue, resulting in temporary or permanent impairment of brain function. The answer is well-structured and includes specific details about the initial treatment, early management, and subsequent treatment options. Overall, the answer fully addresses the question and provides accurate information based on the provided context.</p>
</section>
</div>
<p><strong>Query 5: What are the necessary precautions and treatment steps for a person who has fractured their leg during a hiking trip, and what should be considered for their care and recovery?</strong></p>
<div id="cell-117" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:701}}" data-outputid="179ea1e3-ab45-4791-a552-0089e622044a" data-execution_count="372">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>ground,rel <span class="op">=</span> generate_ground_relevance_response(user_input<span class="op">=</span><span class="st">"What are the necessary precautions and treatment steps for a person who has fractured their leg during a hiking trip, and what should be considered for their care and recovery?"</span>,max_tokens<span class="op">=</span><span class="dv">370</span>)</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>display_rag_evaluation(ground, rel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     200.33 ms /   312 runs   (    0.64 ms per token,  1557.43 tokens per second)
llama_print_timings: prompt eval time =     904.80 ms /   671 tokens (    1.35 ms per token,   741.60 tokens per second)
llama_print_timings:        eval time =   10459.48 ms /   311 runs   (   33.63 ms per token,    29.73 tokens per second)
llama_print_timings:       total time =   11840.67 ms /   982 tokens
Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     134.45 ms /   200 runs   (    0.67 ms per token,  1487.58 tokens per second)
llama_print_timings: prompt eval time =    1159.34 ms /  1007 tokens (    1.15 ms per token,   868.60 tokens per second)
llama_print_timings:        eval time =    6818.78 ms /   199 runs   (   34.27 ms per token,    29.18 tokens per second)
llama_print_timings:       total time =    8280.62 ms /  1206 tokens
Llama.generate: prefix-match hit

llama_print_timings:        load time =    1761.86 ms
llama_print_timings:      sample time =     118.54 ms /   186 runs   (    0.64 ms per token,  1569.10 tokens per second)
llama_print_timings: prompt eval time =    1151.57 ms /   971 tokens (    1.19 ms per token,   843.20 tokens per second)
llama_print_timings:        eval time =    6159.48 ms /   185 runs   (   33.29 ms per token,    30.04 tokens per second)
llama_print_timings:       total time =    7577.66 ms /  1156 tokens</code></pre>
</div>
<section id="rag-evaluation-results-4" class="level3 cell-output cell-output-display cell-output-markdown">
<h3 class="anchored" data-anchor-id="rag-evaluation-results-4">RAG Evaluation Results</h3>
<p>** Groundedness:** <code>HIGH</code><br>
Based on the provided context and instructions, I would rate the answer as HIGH in terms of groundedness. The answer provides a comprehensive list of necessary precautions and treatment steps for a person who has fractured their leg during a hiking trip, and all of the information is supported by the context.</p>
<p>The answer includes details such as the use of sterile wound dressings, tetanus prophylaxis, broad-spectrum antibiotics, immobilization with a splint or cast, pain management with analgesics, rest, and avoidance of strenuous activities to allow the fracture to heal. All of these details are directly supported by the context, which emphasizes the importance of sterile wound dressings, tetanus prophylaxis, and broad-spectrum antibiotics for suspected open fractures, as well as the use of a cane for amb</p>
<hr>
<p>** Relevance:** <code>HIGH</code><br>
Based on the given context and instructions, I would rate the answer as HIGH in relevance. The answer directly addresses the question by providing necessary precautions and treatment steps for a person who has fractured their leg during a hiking trip, including splinting and immobilization, tetanus prophylaxis, broad-spectrum antibiotics, pain management, rest, and rehabilitation. The answer also mentions the use of a cane for ambulation, which is relevant to the question.</p>
<p>The answer stays focused on the topic and does not go off-topic or include unrelated information. It provides a clear and concise summary of the necessary precautions and treatment steps for a person with a fractured leg, which is directly related to the question asked. Therefore, I would rate the answer as HIGH in relevance.</p>
</section>
</div>
</section>
<section id="actionable-insights-and-business-recommendations" class="level2">
<h2 class="anchored" data-anchor-id="actionable-insights-and-business-recommendations">Actionable Insights and Business Recommendations</h2>
<p><strong>LLMs Can Definitely Help with Clinical Questions</strong> When you guide the model with healthcare-specific prompts, it does a much better job — answers are clearer, more accurate, and more useful.</p>
<p><strong>Prompting Makes a Big Difference</strong> Telling the model exactly how to structure its answers (like using bullet points or medical terms) really helps it respond in a way that feels more polished and helpful.</p>
<p><strong>Decent Performance on Common Medical Topics</strong> For well-known conditions, the model’s answers lined up pretty well with standard medical practices — good enough for patient education or quick references.</p>
<p><strong>Generic Models Give Generic Answers</strong> If you don’t give them the right context, models like LLaMA tend to be vague. They don’t really handle specific or complex clinical questions on their own.</p>
<p><strong>Good Prompts Help — But Only to a Point</strong> Crafting smart prompts improves things a lot, but without adding real context (like actual medical text), there’s still a limit to how specific the answers can get.</p>
<p><strong>RAG Changes the Game</strong> Using Retrieval-Augmented Generation (RAG) — where the model pulls from actual documents like PDFs or manuals — makes the answers way more accurate and grounded in real info.</p>
<p><strong>Ready to Be Put to Work</strong> This setup is already a strong starting point for building a specialized assistant. It could be used for helping patients, training staff, or even answering internal questions.</p>
<p><font size="6" color="blue">Power Ahead</font> ___</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/ajay-mahajan-ai\.github\.io\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>